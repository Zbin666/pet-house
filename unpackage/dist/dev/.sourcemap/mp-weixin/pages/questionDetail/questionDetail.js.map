{"version":3,"file":"questionDetail.js","sources":["pages/questionDetail/questionDetail.vue","../../HBuilderX.4.57/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcXVlc3Rpb25EZXRhaWwvcXVlc3Rpb25EZXRhaWwudnVl"],"sourcesContent":["<template>\n\t<view class=\"page\" :style=\"dynamicTopPadding\">\n\t\t<!-- 问题卡片 -->\n\t\t<view class=\"qa-card\">\n\t\t\t<view class=\"qa-header\">\n\t\t\t\t<view class=\"urgent-tag\" v-if=\"qa.isUrgent\"><text class=\"urgent-text\">急</text></view>\n\t\t\t\t<text class=\"qa-title\">{{ qa.title }}</text>\n\t\t\t\t<button class=\"follow-btn\" type=\"default\" size=\"mini\">关注问题</button>\n\t\t\t</view>\n\t\t\t<view class=\"qa-divider\"></view>\n\t\t\t<view class=\"qa-desc\">\n\t\t\t\t<text class=\"p\">夏季来了，天气越来越炎热了</text>\n\t\t\t\t<text class=\"p\">这个温度对狗狗来说太不友好啦</text>\n\t\t\t\t<text class=\"p\">对家长们来说也是很大的挑战，夏天要注意什么呀？求助</text>\n\t\t\t</view>\n\n\t\t\t<view class=\"meta-row\">\n\t\t\t\t<text class=\"meta\">{{ qa.time }}</text>\n\t\t\t\t<text class=\"meta\">{{ qa.answerCount }}个回答</text>\n\t\t\t\t<text class=\"meta\">{{ qa.readCount }}个阅读</text>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 答案区域（叠卡容器） -->\n\t\t<view class=\"answers-section\">\n\t\t\t<view class=\"answers-card\">\n\t\t\t\t<view class=\"answers-card-bg bg1\"></view>\n\t\t\t\t<view class=\"answers-card-body\">\n\t\t\t\t\t<view class=\"answers-ribbon\"><text>全部回答</text></view>\n\t\t\t\t\t<view class=\"answer-list\">\n\t\t\t\t\t\t<view class=\"answer-card\" v-if=\"qa.hasAnswer\">\n\t\t\t\t\t\t\t<view class=\"doctor-info\">\n\t\t\t\t\t\t\t\t<image class=\"avatar\" :src=\"qa.doctor?.avatar || '/static/logo.png'\"\n\t\t\t\t\t\t\t\t\tmode=\"aspectFill\" />\n\t\t\t\t\t\t\t\t<view class=\"d-meta\">\n\t\t\t\t\t\t\t\t\t<text class=\"d-name\">{{ qa.doctor?.name }}</text>\n\t\t\t\t\t\t\t\t\t<text class=\"d-title\">{{ qa.doctor?.title }}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<text class=\"answer-text\">{{ qa.answerPreview }}</text>\n\t\t\t\t\t\t<text class=\"answer-text\">夏季遛狗建议选择清晨或傍晚，避开高温时段，尤其是正午前后。外出时尽量选择阴凉路线，避免长时间在柏油路或砂石地面停留，以免脚垫被灼伤。</text>\n\t\t\t\t\t\t<text class=\"answer-text\">饮水要充足，随身携带便携式水壶与碗，少量多次补水。若出现剧烈喘息、步伐无力、流口水增多等中暑先兆，应立即转移到阴凉通风处，使用湿毛巾为颈部、腹部、四肢内侧物理降温，必要时尽快就医。</text>\n\t\t\t\t\t\t<text class=\"answer-text\">饮食上可适当添加电解质与高水分食材，但要避免冰水与大量冷食，防止胃肠不适。长毛或双层被毛犬建议在专业人士指导下进行梳理与少量修剪，切勿“剃光”，以免失去对紫外线与温度变化的保护。</text>\n\t\t\t\t\t\t<text class=\"answer-text\">居家环境保持通风与适宜温度，准备凉感垫、降温背心等辅助用品。频繁洗澡并不能降温，反而容易破坏皮脂屏障；每周1-2次即可，外出回家后清洁脚垫与腹部即可。</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"answer-card empty\" v-else>\n\t\t\t\t\t\t\t<text class=\"empty-text\">暂时还没有人回答，去抢第一个回答吧～</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 占位高度，避免内容被底部栏遮挡（与广场详情一致） -->\n\t\t<view class=\"bottom-safe-spacer\"></view>\n\n\t\t<!-- 底部输入 -->\n\t\t<view class=\"answer-input-bar\">\n\t\t\t<input class=\"answer-input\" placeholder=\"输入你的回答\" />\n\t\t</view>\n\t</view>\n</template>\n\n<script setup lang=\"ts\">\nimport { reactive, ref, onMounted } from 'vue'\nimport { onLoad } from '@dcloudio/uni-app'\n\n// 动态顶部内边距\nconst dynamicTopPadding = ref('')\nonMounted(() => {\n\ttry {\n\t\tconst info = uni.getSystemInfoSync()\n\t\tconst statusBar = info.statusBarHeight || 0\n\t\tconst screenW = info.screenWidth || 375\n\t\tconst rpxToPx = (rpx) => (rpx * screenW) / 750\n\t\tconst topPx = 15\n\t\tdynamicTopPadding.value = `padding-top:${topPx}px;`\n\t} catch (e) {\n\t\tdynamicTopPadding.value = ''\n\t}\n})\n\ntype Doctor = { name: string; title: string; avatar: string }\ntype QA = {\n\tid: string\n\ttitle: string\n\tisUrgent: boolean\n\thasAnswer: boolean\n\tdoctor?: Doctor | null\n\tanswerPreview: string | null\n\tanswerCount: number\n\treadCount: number\n\ttime: string\n}\n\nconst qa = reactive<QA>({\n\tid: '',\n\ttitle: '问题标题',\n\tisUrgent: false,\n\thasAnswer: false,\n\tdoctor: null,\n\tanswerPreview: '',\n\tanswerCount: 0,\n\treadCount: 0,\n\ttime: ''\n})\n\n// 接收列表页传值\ntry {\n\tconst ec = getCurrentPages().pop()?.getOpenerEventChannel?.()\n\tec && ec.on('qa', (data: Partial<QA>) => {\n\t\tObject.assign(qa, data)\n\t})\n} catch (e) { }\n\n// 设置顶部导航标题与背景色\nonLoad(() => {\n\ttry {\n\t\tuni.setNavigationBarTitle({ title: '问答详情' })\n\t\tuni.setNavigationBarColor({ frontColor: '#000000', backgroundColor: '#fff1a8' })\n\t} catch (e) { }\n})\n</script>\n\n<style scoped>\n.page {\n    padding: 28rpx 30rpx;\n    /* 动态计算顶部间距，避免真机调试时env不生效 */\n    min-height: 100vh;\n    background: linear-gradient(180deg, #fff1a8 0%, #fff3c9 32%, #fff7e3 68%, #fffaf1 100%);\n    padding-bottom: 36rpx; /* 具体高度由占位视图控制 */\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    box-sizing: border-box;\n}\n\n.qa-card {\n\tposition: relative;\n\tbackground: #fff;\n\tborder-radius: 20rpx;\n\tborder: 4rpx solid #2c2c2c;\n\tpadding: 22rpx 24rpx;\n\tbox-shadow: 0 6rpx 0 #2c2c2c;\n\twidth: 100%;\n\tmax-width: 624rpx;\n}\n\n/* 左右缺口，和虚线对齐 */\n.qa-card::before,\n.qa-card::after {\n\tcontent: '';\n\tposition: absolute;\n\ttop: 116rpx;\n\twidth: 26rpx;\n\theight: 26rpx;\n\tbackground: #2c2c2c;\n\tborder-radius: 50%;\n\tbox-shadow: 0 0 0 8rpx #fff;\n}\n\n.qa-card::before {\n\tleft: -13rpx;\n}\n\n.qa-card::after {\n\tright: -13rpx;\n}\n\n.qa-header {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 12rpx;\n}\n\n.urgent-tag {\n\twidth: 34rpx;\n\theight: 34rpx;\n\tbackground: #ff6b35;\n\tborder-radius: 6rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.urgent-text {\n\tcolor: #fff;\n\tfont-weight: 700;\n\tfont-size: 22rpx;\n}\n\n.qa-title {\n\tflex: 1;\n\tfont-size: 34rpx;\n\tfont-weight: 700;\n\tcolor: #2c2c2c;\n\tpadding: 12rpx 8rpx 10rpx 0;\n}\n\n.follow-btn {\n\tbackground: #fff;\n\tborder: 2rpx solid #2c2c2c;\n\tborder-radius: 999rpx;\n\tpadding: 6rpx 16rpx;\n\tfont-size: 24rpx;\n}\n\n.qa-divider {\n\theight: 0;\n\tborder-top: 6rpx dashed #2c2c2c;\n\tmargin: 10rpx 0 8rpx;\n}\n\n.qa-desc {\n\tmargin: 8rpx 0 4rpx;\n}\n\n.qa-desc .p {\n\tdisplay: block;\n\tcolor: #2c2c2c;\n\tfont-size: 28rpx;\n\tline-height: 1.8;\n}\n\n.meta-row {\n\tdisplay: flex;\n\tgap: 16rpx;\n\tcolor: #7a7a7a;\n\tfont-size: 24rpx;\n}\n\n.meta {}\n\n.answers-section {\n\tmargin-top: 36rpx;\n\tposition: relative;\n\twidth: 100%;\n\tmax-width: 704rpx;\n}\n\n.answers-card {\n\tposition: relative;\n}\n\n.answers-card-bg {\n\tposition: absolute;\n\tleft: 8rpx;\n\tright: 8rpx;\n\theight: 100%;\n\tborder: 4rpx solid #2c2c2c;\n\tborder-radius: 16rpx;\n\tbackground: #fff;\n\tz-index: 0;\n\tpointer-events: none;\n}\n\n.answers-card-bg.bg1 {\n\ttop: -2rpx;\n\ttransform: rotate(-2deg);\n}\n\n.answers-card-body {\n\tposition: relative;\n\tbackground: #fff;\n\tborder: 4rpx solid #2c2c2c;\n\tborder-radius: 16rpx;\n\tpadding: 20rpx;\n\tz-index: 1;\n}\n\n.answers-ribbon {\n\tposition: absolute;\n\tleft: 12rpx;\n\ttop: -18rpx;\n\tbackground: #333;\n\tcolor: #fff;\n\tpadding: 8rpx 16rpx;\n\ttransform: rotate(-8deg);\n\tbox-shadow: 0 6rpx 10rpx rgba(0, 0, 0, .15);\n}\n\n.answers-ribbon text {\n\tfont-weight: 700;\n\tfont-size: 24rpx;\n}\n\n.answer-list {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 16rpx;\n}\n\n.answer-card {\n\tbackground: #fff;\n\tborder: 2rpx solid #e9e9e9;\n\tborder-radius: 16rpx;\n\tpadding: 18rpx;\n}\n\n.answer-card.empty {\n\ttext-align: center;\n\tcolor: #aaa;\n}\n\n.empty-text {\n\tfont-size: 26rpx;\n}\n\n.doctor-info {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 12rpx;\n\tmargin-bottom: 10rpx;\n}\n\n.avatar {\n\twidth: 64rpx;\n\theight: 64rpx;\n\tborder-radius: 50%;\n\tborder: 2rpx solid #2c2c2c;\n\tbackground: #f5f5f5;\n}\n\n.d-meta {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.d-name {\n\tfont-weight: 700;\n\tcolor: #2c2c2c;\n\tfont-size: 28rpx;\n}\n\n.d-title {\n\tcolor: #777;\n\tfont-size: 24rpx;\n}\n\n.answer-text {\n\tdisplay: block;\n\tcolor: #333;\n\tfont-size: 26rpx;\n\tline-height: 1.7;\n}\n\n/* 底部输入条 */\n.answer-input-bar {\n    position: fixed;\n    left: 0;\n    right: 0;\n    bottom: env(safe-area-inset-bottom);\n    bottom: calc(0rpx + env(safe-area-inset-bottom));\n    padding: 24rpx 24rpx calc(24rpx + env(safe-area-inset-bottom));\n    background: #fff;\n    border-top: 4rpx solid #2c2c2c;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 16rpx;\n    z-index: 100;\n}\n\n.answer-input {\n    display: block;\n    width: 100%;\n    max-width: 640rpx;\n    height: 60rpx; /* 输入框高度略增 */\n    margin: 0 auto;\n    background: #fff;\n    border: 4rpx solid #2c2c2c;\n    border-radius: 999rpx;\n    padding: 14rpx 22rpx;\n    font-size: 26rpx;\n    box-sizing: border-box;\n}\n\n/* 底部占位高度，与广场详情一致 */\n.bottom-safe-spacer {\n    height: calc(88rpx + env(safe-area-inset-bottom));\n    height: calc(88rpx + constant(safe-area-inset-bottom));\n}\n</style>\n","import MiniProgramPage from 'E:/Uni-App-file/pet-house/pages/questionDetail/questionDetail.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onMounted","uni","reactive","onLoad"],"mappings":";;;;;;AAoEM,UAAA,oBAAoBA,kBAAI,EAAE;AAChCC,kBAAAA,UAAU,MAAM;AACX,UAAA;AACG,cAAA,OAAOC,oBAAI;AACX,cAAA,YAAY,KAAK,mBAAmB;AACpC,cAAA,UAAU,KAAK,eAAe;AACpC,cAAM,UAAU,CAAC,QAAS,MAAM,UAAW;AAC3C,cAAM,QAAQ;AACI,0BAAA,QAAQ,eAAe,KAAK;AAAA,eACtC,GAAG;AACX,0BAAkB,QAAQ;AAAA,MAC3B;AAAA,IAAA,CACA;AAeD,UAAM,KAAKC,cAAAA,SAAa;AAAA,MACvB,IAAI;AAAA,MACJ,OAAO;AAAA,MACP,UAAU;AAAA,MACV,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,eAAe;AAAA,MACf,aAAa;AAAA,MACb,WAAW;AAAA,MACX,MAAM;AAAA,IAAA,CACN;AAGG,QAAA;AACH,YAAM,MAAK,2BAAA,EAAkB,UAAlB,mBAAyB,0BAAzB;AACX,YAAM,GAAG,GAAG,MAAM,CAAC,SAAsB;AACjC,eAAA,OAAO,IAAI,IAAI;AAAA,MAAA,CACtB;AAAA,aACO,GAAG;AAAA,IAAE;AAGdC,kBAAAA,OAAO,MAAM;AACR,UAAA;AACHF,sBAAAA,MAAI,sBAAsB,EAAE,OAAO,OAAQ,CAAA;AAC3CA,sBAAA,MAAI,sBAAsB,EAAE,YAAY,WAAW,iBAAiB,WAAW;AAAA,eACvE,GAAG;AAAA,MAAE;AAAA,IAAA,CACd;;;;;;;;;;;;;;;;;;;;;;;ACxHD,GAAG,WAAW,eAAe;"}