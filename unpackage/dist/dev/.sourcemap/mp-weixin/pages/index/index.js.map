{"version":3,"file":"index.js","sources":["pages/index/index.vue","../../HBuilderX.4.57/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\n\t<view class=\"home-page\">\n\t\t<!-- Header -->\n\t\t<view class=\"header\">\n\t\t\t<view class=\"greet\">\n\t\t\t\t<text class=\"hi\">Hi {{ userInfo?.nickname || 'Áî®Êà∑' }}</text>\n\t\t\t\t<text class=\"sub\">{{ getGreeting() }}</text>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- Pet card -->\n\t\t<view class=\"pet-card\">\n\t\t\t<view class=\"pet-top-decoration\">\n\t\t\t\t<image class=\"decoration-img\" src=\"/static/index/longCircle.svg\" mode=\"widthFix\" />\n\t\t\t</view>\n\t\t\t<!-- ÂçïÂè™ÂÆ†Áâ©ÔºöÊ≤øÁî®ÂéüÊ†∑Âºè -->\n\t\t\t<view v-if=\"hasPet && pets.length === 1\" class=\"pet-content\" @tap=\"goPetDetail(currentPet)\">\n\t\t\t\t<view class=\"pet-left\">\n\t\t\t\t\t<view class=\"pet-avatar\">\n\t\t\t\t\t\t<image \n\t\t\t\t\t\t\t:src=\"getPetAvatarSrc(currentPet?.avatarUrl)\" \n\t\t\t\t\t\t\tclass=\"pet-avatar-inner\" \n\t\t\t\t\t\t\tmode=\"aspectFill\" \n\t\t\t\t\t\t\t@error=\"onImageError\" \n\t\t\t\t\t\t\t@load=\"onImageLoad\" \n\t\t\t\t\t\t/>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"pet-right\">\n\t\t\t\t\t<view class=\"pet-title-row\">\n\t\t\t\t\t\t<text class=\"pet-name\">{{ currentPet?.name || 'ÊàëÁöÑÂÆ†Áâ©' }}</text>\n\t\t\t\t\t\t<text class=\"pet-edit\">‚úé</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<text class=\"pet-meta\">{{ petMeta }}</text>\n\t\t\t\t\t<view class=\"pet-tags\" v-if=\"petTags.length\">\n\t\t\t\t\t\t<text v-for=\"(tag, i) in petTags\" :key=\"i\" class=\"tag\">{{ tag }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<!-- Â§öÂè™ÂÆ†Áâ©ÔºöÊ®™ÂêëÊªëÂä® -->\n\t\t\t<scroll-view v-else-if=\"hasPet && pets.length > 1\" class=\"pet-scroll\" scroll-x=\"true\" show-scrollbar=\"false\">\n\t\t\t\t<view class=\"pet-item\" v-for=\"pet in pets\" :key=\"pet.id\" @tap=\"goPetDetail(pet)\">\n\t\t\t\t\t<view class=\"pet-container\">\n\t\t\t\t\t\t<view class=\"pet-left\">\n\t\t\t\t\t\t\t\t<view class=\"pet-avatar\">\n\t\t\t\t\t\t\t\t\t<image \n\t\t\t\t\t\t\t\t\t\t:src=\"getPetAvatarSrc(pet?.avatarUrl)\" \n\t\t\t\t\t\t\t\t\t\tclass=\"pet-avatar-inner\" \n\t\t\t\t\t\t\t\t\t\tmode=\"aspectFill\" \n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"pet-right\">\n\t\t\t\t\t\t\t\t<view class=\"pet-title-row\">\n\t\t\t\t\t\t\t\t\t<text class=\"pet-name\">{{ pet?.name || 'ÊàëÁöÑÂÆ†Áâ©' }}</text>\n\t\t\t\t\t\t\t\t\t<text class=\"pet-edit\">‚úé</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<text class=\"pet-meta\">{{ getPetMeta(pet) }}</text>\n\t\t\t\t\t\t\t\t<view class=\"pet-tags\" v-if=\"getPetTags(pet).length\">\n\t\t\t\t\t\t\t\t\t<text v-for=\"(tag, i) in getPetTags(pet)\" :key=\"i\" class=\"tag\">{{ tag }}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t\t<view v-else class=\"pet-empty\" @tap=\"goAddPet\">\n\t\t\t\t<image class=\"add-icon\" src=\"/static/index/add.png\" mode=\"widthFix\" />\n\t\t\t\t<text class=\"add-text\">Ê∑ªÂä†ÊàëÁöÑÂÆ†Áâ©</text>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- Quick list + small cards -->\n\t\t<view class=\"row\">\n\t\t\t<view class=\"todo-card\">\n\t\t\t\t<scroll-view class=\"todo-scroll\" scroll-y=\"true\">\n\t\t\t\t\t<view v-if=\"homeReminders.length === 0\" class=\"todo-item\">\n\t\t\t\t\t\t<view class=\"bullet\"></view><text>‰ªäÂ§©ÊöÇÊó†ÊèêÈÜí</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view v-else>\n\t\t\t\t\t\t<view class=\"todo-item\" v-for=\"r in homeReminders\" :key=\"r.id\">\n\t\t\t\t\t\t\t<view class=\"bullet\"></view>\n\t\t\t\t\t\t\t<text>{{ r.title }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</scroll-view>\n\t\t\t</view>\n\t\t\t<view class=\"side-cards\">\n\t\t\t\t<view class=\"side-card\" @tap=\"goToRecord('calendar')\">\n\t\t\t\t\t<view class=\"side-texts\">\n\t\t\t\t\t\t<text class=\"side-title\">ËÆ∞ÂΩï</text>\n\t\t\t\t\t\t<text class=\"side-sub\">Êõ¥Â•ΩÁöÑÁÖßÈ°æÂ∞èÂÆ†</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<image class=\"side-icon\" src=\"/static/index/record.png\" mode=\"widthFix\" />\n\t\t\t\t</view>\n\t\t\t\t<view class=\"side-card\" @tap=\"goToRecord('stats')\">\n\t\t\t\t\t<view class=\"side-texts\">\n\t\t\t\t\t\t<text class=\"side-title\">ÊèêÈÜí</text>\n\t\t\t\t\t\t<text class=\"side-sub\">Èò≤Ê≠¢ÂøòËÆ∞</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<image class=\"side-icon\" src=\"/static/index/note.png\" mode=\"widthFix\" />\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- Popular science -->\n\t\t<view class=\"science\" @tap=\"goScienceDetail\">\n\t\t\t<view class=\"science-hd\">\n\t\t\t\t<view class=\"science-title\">\n\t\t\t\t\t<text>‰ªäÊó•ÁßëÊôÆ</text>\n\t\t\t\t\t<view class=\"title-notch\"></view>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"science-sub\">{{ dailyScience?.title ? `„Äê${dailyScience.title}„Äë` : '„Äê‰ªäÊó•Â∞èÁü•ËØÜ„Äë' }}</text>\n\t\t\t</view>\n\t\t\t<view class=\"science-text\">{{ dailyScience?.content || 'ÊØèÊó•‰∏∫‰Ω†Êé®Ëçê‰∏ÄÊù°ÂÆ†Áâ©ÂÅ•Â∫∑Â∞èÁü•ËØÜÔΩû' }}</view>\n\t\t\t<image class=\"science-illust\" src=\"/static/index/popular-science.png\" mode=\"widthFix\" />\n\t\t\t<view class=\"science-icons\">\n\t\t\t\t<image class=\"fish\" src=\"/static/index/fish.png\" mode=\"widthFix\" />\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted } from 'vue'\nimport { onShow } from '@dcloudio/uni-app'\nimport { initState, getState } from '@/utils/store.js'\nimport { api } from '@/utils/api.js'\n\ndefineOptions({ name: 'HomeIndex' })\n\nconst hasPet = ref(false)\nconst userInfo = ref(null)\nconst pets = ref([])\nconst homeReminders = ref([])\nconst dailyScience = ref(null)\nconst currentPet = computed(() => {\n  const pet = pets.value?.[0] || null\n  console.log('currentPet computed:', pet)\n  return pet\n})\nconst petMeta = computed(() => {\n  if (!currentPet.value) return ''\n  const months = currentPet.value.months ? `${currentPet.value.months}‰∏™Êúà` : ''\n  const weight = currentPet.value.weight ? `${currentPet.value.weight}kg` : ''\n  return [months, weight].filter(Boolean).join(' | ')\n})\nconst petTags = computed(() => {\n  if (!currentPet.value) return []\n  const temperament = currentPet.value.temperament || ''\n  // temperament ÂèØËÉΩÊòØ‰ª•ÈÄóÂè∑ÂàÜÈöîÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÊàñ‰∏Ä‰∏™ÁÆÄÂçïÂ≠óÁ¨¶‰∏≤\n  if (!temperament) return []\n  if (Array.isArray(temperament)) return temperament\n  return String(temperament).split(/[Ôºå,\\s]+/).filter(Boolean).slice(0, 3)\n})\n\n// Â§öÂÆ†Áâ©Âç°ÁâáÁöÑ meta ‰∏é tags ËÆ°ÁÆó\nfunction getPetMeta(pet) {\n  if (!pet) return ''\n  const months = pet.months ? `${pet.months}‰∏™Êúà` : ''\n  const weight = pet.weight ? `${pet.weight}kg` : ''\n  return [months, weight].filter(Boolean).join(' | ')\n}\n\nfunction getPetTags(pet) {\n  if (!pet) return []\n  const temperament = pet.temperament || ''\n  if (!temperament) return []\n  if (Array.isArray(temperament)) return temperament.slice(0, 3)\n  return String(temperament).split(/[Ôºå,\\s]+/).filter(Boolean).slice(0, 3)\n}\n\n// ÂàùÂßãÂåñÈ°µÈù¢\nonMounted(async () => {\n  // ÂàùÂßãÂåñÁä∂ÊÄÅ\n  const state = initState()\n  userInfo.value = state.userInfo\n  \n  // Ê£ÄÊü•ÁôªÂΩïÁä∂ÊÄÅ\n  if (!state.isLoggedIn) {\n    uni.reLaunch({\n      url: '/pages/login/login'\n    })\n    return\n  }\n  \n  // Âä†ËΩΩÂÆ†Áâ©Êï∞ÊçÆ\n  await loadPets()\n  await loadTodayReminders()\n  await loadDailyScience()\n})\n\n// ËøîÂõûÂà∞È¶ñÈ°µÊó∂Ëá™Âä®Âà∑Êñ∞ÂÆ†Áâ©Êï∞ÊçÆ\nonShow(async () => {\n  // Â¶ÇÊûú‰ªéËØ¶ÊÉÖËøîÂõû‰∏îÊî∂Âà∞ÂÖ®Â±Ä‰∫ã‰ª∂ÔºåÊàñÁõ¥Êé•ËøîÂõûÈ°µÈù¢ÔºåÈÉΩÂà∑Êñ∞‰∏ÄÊ¨°\n  await loadPets()\n  await loadTodayReminders()\n  await loadDailyScience()\n})\n\n// Â§¥ÂÉè‰∏ãËΩΩÁºìÂ≠òÔºåÈÅøÂÖçÈáçÂ§ç‰∏ãËΩΩ\nconst avatarCache = new Map()\n\n// Ëé∑ÂèñÂÆ†Áâ©Â§¥ÂÉèÁöÑÂèØÊòæÁ§∫ srcÔºà‰∏é user.vue ‰øùÊåÅ‰∏ÄËá¥Ôºâ\nfunction getPetAvatarSrc(url) {\n    if (!url) return '/static/index/add.png'\n\n    // Áªü‰∏ÄËßÑËåÉÂåñÔºö\n    // 1) /uploads/ Áõ∏ÂØπË∑ØÂæÑ ‚Üí ÊãºÊé•ÈùôÊÄÅÂüüÂêç\n    // 2) Âº∫Âà∂ http ‚Üí httpsÔºåÂéªÊéâ :80\n    let normalized = url\n    if (normalized.startsWith('/uploads/')) {\n        normalized = `https://pet-api.zbinli.cn${normalized}`\n    }\n    if (normalized.startsWith('http://pet-api.zbinli.cn')) {\n        normalized = normalized.replace('http://pet-api.zbinli.cn', 'https://pet-api.zbinli.cn')\n    }\n    normalized = normalized.replace('://pet-api.zbinli.cn:80', '://pet-api.zbinli.cn')\n\n    // Êú¨Âú∞ÊàñÈùôÊÄÅË∑ØÂæÑÁõ¥Êé•ËøîÂõû\n    if (normalized.startsWith('wxfile://') || normalized.startsWith('/static/')) {\n        return normalized\n    }\n\n    // ÂëΩ‰∏≠ÁºìÂ≠ò\n    if (avatarCache.has(normalized)) {\n        return avatarCache.get(normalized)\n    }\n\n    // ‰∏ãËΩΩÁΩëÁªúÂõæÁâáÂà∞Êú¨Âú∞‰∏¥Êó∂Êñá‰ª∂\n    uni.downloadFile({\n        url: normalized,\n        success: (res) => {\n            if (res.statusCode === 200 && res.tempFilePath) {\n                avatarCache.set(normalized, res.tempFilePath)\n                // Ëß¶ÂèëËßÜÂõæÊõ¥Êñ∞\n                pets.value = [...pets.value]\n            } else {\n                avatarCache.set(normalized, '/static/index/add.png')\n                pets.value = [...pets.value]\n            }\n        },\n        fail: () => {\n            avatarCache.set(normalized, '/static/index/add.png')\n            pets.value = [...pets.value]\n        }\n    })\n\n    // ‰∏ãËΩΩ‰∏≠ËøîÂõûÂç†‰Ωç\n    return '/static/index/add.png'\n}\n\n// Ëé∑ÂèñÈªòËÆ§ÂÆ†Áâ©Â§¥ÂÉè\nfunction getDefaultPetAvatar() {\n  return '/static/index/add.png' // ‰ΩøÁî®Áé∞ÊúâÁöÑÊ∑ªÂä†ÂõæÊ†á‰Ωú‰∏∫ÈªòËÆ§Â§¥ÂÉè\n}\n\n// Âä†ËΩΩÂÆ†Áâ©Êï∞ÊçÆ\nasync function loadPets() {\n  try {\n    console.log('=== È¶ñÈ°µÂä†ËΩΩÂÆ†Áâ©Êï∞ÊçÆË∞ÉËØï‰ø°ÊÅØ ===');\n    const result = await api.getPets()\n    console.log('APIËøîÂõûÁªìÊûú:', result);\n    \n    // ÂÖºÂÆπÂêéÁ´ØÁõ¥Êé•ËøîÂõûÊï∞ÁªÑ Êàñ ÂåÖÂú® data Èáå\n    pets.value = Array.isArray(result) ? result : (result.data || [])\n    \n    console.log('ÂÆ†Áâ©Êï∞ÊçÆ:', pets.value);\n    console.log('Á¨¨‰∏Ä‰∏™ÂÆ†Áâ©ÁöÑÂ§¥ÂÉèURL:', pets.value[0]?.avatarUrl);\n    console.log('Á¨¨‰∏Ä‰∏™ÂÆ†Áâ©ÁöÑÂÆåÊï¥Êï∞ÊçÆ:', pets.value[0]);\n    \n    hasPet.value = pets.value.length > 0\n    console.log('ÊòØÂê¶ÊúâÂÆ†Áâ©:', hasPet.value);\n    \n    // Ê£ÄÊü•ÂõæÁâáURLÊòØÂê¶ÊúâÊïà\n    if (pets.value[0]?.avatarUrl) {\n      console.log('Â§¥ÂÉèURLËØ¶ÊÉÖ:', {\n        url: pets.value[0].avatarUrl,\n        type: typeof pets.value[0].avatarUrl,\n        length: pets.value[0].avatarUrl.length\n      });\n    }\n  } catch (error) {\n    console.error('Âä†ËΩΩÂÆ†Áâ©Êï∞ÊçÆÂ§±Ë¥•:', error)\n  }\n}\n\n// Âä†ËΩΩ‰ªäÊó•ÊèêÈÜí\nasync function loadTodayReminders() {\n  try {\n    const now = new Date()\n    const start = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 0, 0, 0, 0).toISOString()\n    const end = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 23, 59, 59, 999).toISOString()\n    const res = await api.getSubscriptions({ startDate: start, endDate: end })\n    const list = Array.isArray(res) ? res : (res.subscriptions || res.data || [])\n    homeReminders.value = list.map(s => ({\n      id: s.id,\n      title: s.content || (s.type === 'medicine' ? 'Áî®ËçØÊèêÈÜí' : (s.type === 'vaccine' ? 'Áñ´ËãóÊèêÈÜí' : (s.type === 'wash' ? 'Ê¥óÊä§ÊèêÈÜí' : 'Êó•Â∏∏ÊèêÈÜí'))),\n      time: (new Date(s.fireAt)).toTimeString().slice(0,5)\n    }))\n  } catch (e) {\n    homeReminders.value = []\n  }\n}\n\n// Âä†ËΩΩ\"‰ªäÊó•ÁßëÊôÆ\"ÔºöÊåâÂ§©Âæ™ÁéØÔºå‰ªéÁ¨¨‰∏ÄÁØáÂà∞ÊúÄÂêé‰∏ÄÁØáÔºåÂÜçÂõûÂà∞Á¨¨‰∏ÄÁØá\nasync function loadDailyScience() {\n  try {\n    console.log('üîç ÂºÄÂßãÂä†ËΩΩ‰ªäÊó•ÁßëÊôÆ...')\n    const res = await api.getArticles({ page: 1, limit: 200 })\n    console.log('üì° ÁßëÊôÆAPIËøîÂõû:', res)\n    \n    const list = Array.isArray(res) ? res : (res.articles || res.data || [])\n    console.log('üìã ÁßëÊôÆÊñáÁ´†ÂàóË°®:', list)\n    \n    if (!list.length) {\n      console.log('‚ö†Ô∏è Ê≤°ÊúâÊâæÂà∞ÁßëÊôÆÊñáÁ´†')\n      dailyScience.value = null\n      return\n    }\n    \n    // Á®≥ÂÆöÊéíÂ∫èÔºöÊåâÂàõÂª∫Êó∂Èó¥ÂçáÂ∫èÔºõËã•Êó†createdAtÊàñÁõ∏ÂêåÔºåÂàôÊåâidÂçáÂ∫è\n    const stable = list.slice().sort((a, b) => {\n      const at = new Date(a.createdAt || 0).getTime()\n      const bt = new Date(b.createdAt || 0).getTime()\n      if (at !== bt) return at - bt\n      return String(a.id).localeCompare(String(b.id))\n    })\n    \n    // ‰ª•Â§©‰∏∫Âë®ÊúüÁöÑÂæ™ÁéØÁ¥¢ÂºïÔºàÁ¨¨‰∏ÄÂ§©ÂèñÁ¨¨‰∏ÄÁØáÔºå‰æùÊ¨°Á±ªÊé®ÔºåË∂ÖÂá∫ÂêéÂèñÊ®°ÂõûÂà∞Á¨¨‰∏ÄÁØáÔºâ\n    const dayIndex = Math.floor(Date.now() / 86400000)\n    const idx = dayIndex % stable.length\n    console.log('üìÖ ‰ªäÊó•Á¥¢Âºï:', idx, 'ÊÄªÊñáÁ´†Êï∞:', stable.length)\n    \n    const selectedArticle = stable[idx]\n    console.log('‚úÖ ÈÄâ‰∏≠ÁöÑÁßëÊôÆÊñáÁ´†:', selectedArticle)\n    \n    // Â§ÑÁêÜÂÜÖÂÆπÊà™Êñ≠ÂíånullÂÄº\n    if (selectedArticle) {\n      if (!selectedArticle.content || selectedArticle.content === null) {\n        // Â¶ÇÊûúcontent‰∏∫nullÔºå‰ΩøÁî®title‰Ωú‰∏∫ÂÜÖÂÆπ\n        selectedArticle.content = selectedArticle.title || 'ÊöÇÊó†ÂÜÖÂÆπ'\n        console.log('‚ö†Ô∏è ÊñáÁ´†content‰∏∫nullÔºå‰ΩøÁî®title‰Ωú‰∏∫ÂÜÖÂÆπ:', selectedArticle.content)\n      } else {\n        const maxLength = 120 // ÊúÄÂ§ßÊòæÁ§∫Â≠óÁ¨¶Êï∞\n        const content = selectedArticle.content\n        if (content.length > maxLength) {\n          selectedArticle.content = content.substring(0, maxLength) + '...'\n          console.log('‚úÇÔ∏è ÂÜÖÂÆπÂ∑≤Êà™Êñ≠:', selectedArticle.content)\n        }\n      }\n    }\n    \n    dailyScience.value = selectedArticle\n    console.log('üéØ ÊúÄÁªàÁßëÊôÆÊï∞ÊçÆ:', dailyScience.value)\n  } catch (e) {\n    console.error('‚ùå Âä†ËΩΩ‰ªäÊó•ÁßëÊôÆÂ§±Ë¥•:', e)\n    dailyScience.value = null\n  }\n}\n\n// Ëé∑ÂèñÈóÆÂÄôËØ≠\nfunction getGreeting() {\n  const hour = new Date().getHours()\n  if (hour < 12) {\n    return 'Good Morning!'\n  } else if (hour < 18) {\n    return 'Good Afternoon!'\n  } else {\n    return 'Good Evening!'\n  }\n}\n\nfunction goAddPet() {\n\tuni.navigateTo({ url: '/pages/createPet/createPet' })\n}\n\nfunction goToRecord(tab) {\n\t// Â∞Ü tab ÂèÇÊï∞Â≠òÂÇ®Âà∞ÂÖ®Â±ÄÁä∂ÊÄÅ\n\tuni.setStorageSync('recordTab', tab)\n\t// Ë∑≥ËΩ¨Âà∞ tabBar È°µÈù¢\n\tuni.switchTab({ url: '/pages/record/record' })\n}\n\n// ÂõæÁâáÂä†ËΩΩ‰∫ã‰ª∂Â§ÑÁêÜ\nfunction onImageLoad(e) {\n  console.log('ÂõæÁâáÂä†ËΩΩÊàêÂäü:', e)\n}\n\nfunction onImageError(e) {\n  console.error('ÂõæÁâáÂä†ËΩΩÂ§±Ë¥•:', e)\n  console.error('Â§±Ë¥•ÁöÑÂõæÁâáURL:', currentPet.value?.avatarUrl)\n  \n  // ÂõæÁâáÂä†ËΩΩÂ§±Ë¥•Êó∂ÔºågetPetAvatarSrc Â∑≤ÁªèÂ§ÑÁêÜ‰∫ÜÈªòËÆ§Â§¥ÂÉè\n  // ËøôÈáå‰∏çÈúÄË¶ÅÈ¢ùÂ§ñÂ§ÑÁêÜ\n}\n\nfunction goPetDetail(pet) {\n  pet = pet || currentPet.value\n  console.log('=== È¶ñÈ°µË∑≥ËΩ¨ÂÆ†Áâ©ËØ¶ÊÉÖË∞ÉËØï‰ø°ÊÅØ ===');\n  console.log('ÂΩìÂâçÂÆ†Áâ©Êï∞ÊçÆ:', pet);\n  console.log('ÂÆ†Áâ©Â§¥ÂÉèURL:', pet?.avatarUrl);\n  \n  if (!pet || !pet.id) return\n  const q = encodeURIComponent(JSON.stringify(pet))\n  console.log('ÁºñÁ†ÅÂêéÁöÑÊï∞ÊçÆ:', q);\n  console.log('Ë∑≥ËΩ¨URL:', `/pages/petDetail/petDetail?pet=${q}`);\n  \n  uni.navigateTo({ url: `/pages/petDetail/petDetail?pet=${q}` })\n}\n\n// Ë∑≥ËΩ¨Âà∞ÁßëÊôÆËØ¶ÊÉÖÈ°µ\nfunction goScienceDetail() {\n  if (!dailyScience.value || !dailyScience.value.id) {\n    console.log('‚ö†Ô∏è Ê≤°ÊúâÁßëÊôÆÂÜÖÂÆπÂèØË∑≥ËΩ¨')\n    return\n  }\n  \n  console.log('üîç Ë∑≥ËΩ¨ÁßëÊôÆËØ¶ÊÉÖ:', dailyScience.value)\n  \n  // Ë∑≥ËΩ¨Âà∞ÁßëÊôÆËØ¶ÊÉÖÈ°µ\n  uni.navigateTo({\n    url: `/pages/scienceDetail/scienceDetail?id=${dailyScience.value.id}`,\n    success: (res) => {\n      console.log('‚úÖ ÁßëÊôÆËØ¶ÊÉÖÈ°µË∑≥ËΩ¨ÊàêÂäü')\n      try {\n        res.eventChannel.emit('science', dailyScience.value)\n        console.log('üì§ Â∑≤ÂèëÈÄÅÁßëÊôÆÊï∞ÊçÆÂà∞ËØ¶ÊÉÖÈ°µ:', dailyScience.value)\n      } catch (e) {\n        console.error('‚ùå ÂèëÈÄÅÁßëÊôÆÊï∞ÊçÆÂ§±Ë¥•:', e)\n      }\n    },\n    fail: (err) => {\n      console.error('‚ùå ÁßëÊôÆËØ¶ÊÉÖÈ°µË∑≥ËΩ¨Â§±Ë¥•:', err)\n    }\n  })\n}\n</script>\n\n<style>\n.home-page {\n\tpadding: 24rpx;\n\tpadding-top: calc(80rpx + env(safe-area-inset-top));\n\t/* iOS ÂÖºÂÆπ */\n\tpadding-top: calc(80rpx + constant(safe-area-inset-top));\n\tbackground: linear-gradient(180deg, #fff1a8 0%, #fff3c9 32%, #fff7e3 68%, #fffaf1 100%);\n\tmin-height: 100vh;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n}\n\n/* Header */\n.header {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-bottom: 24rpx;\n\twidth: 100%;\n\tmax-width: 704rpx;\n}\n\n.greet .hi {\n\tdisplay: block;\n\tfont-size: 36rpx;\n\tfont-weight: 700;\n\tcolor: #1a1a1a;\n}\n\n.greet .sub {\n\tdisplay: block;\n\tmargin-top: 8rpx;\n\tcolor: #6b6b6b;\n\tfont-size: 24rpx;\n}\n\n/* Pet card */\n.pet-card {\n\twidth: 100%;\n\tmax-width: 704rpx;\n\theight: 336rpx;\n\tdisplay: flex;\n\tflex-direction: column;\n\tbackground: #ffffff;\n\tborder-radius: 32rpx;\n\tpadding: 20rpx;\n\tbox-shadow: 0 8rpx 16rpx rgba(0, 0, 0, 0.06);\n\tmargin-bottom: 32rpx;\n\tposition: relative;\n\tborder: 4rpx solid #2c2c2c;\n\tbox-sizing: border-box;\n}\n\n.pet-empty {\n\theight: 100%;\n\twidth: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tgap: 12rpx;\n\tbackground: url('/static/index/add-bg.png') center/cover no-repeat;\n\tborder-radius: 24rpx;\n}\n\n.add-icon {\n\twidth: 100rpx;\n\theight: 100rpx;\n}\n\n.add-text {\n\tfont-size: 36rpx;\n\tfont-weight: 700;\n\tcolor: #1a1a1a;\n}\n\n.pet-top-decoration {\n\tposition: relative;\n\ttop: 3rpx;\n\tleft: 50%;\n\ttransform: translateX(-50%);\n\tdisplay: flex;\n\tjustify-content: center;\n\tz-index: 0;\n\tpointer-events: none;\n}\n\n.decoration-oval {\n\twidth: 120rpx;\n\theight: 20rpx;\n\tbackground: linear-gradient(90deg, #ffeb3b 0%, #fff9c4 100%);\n\tborder-radius: 40%;\n\tborder: 2rpx solid #2c2c2c;\n}\n\n.decoration-img {\n\twidth: 160rpx;\n\theight: 24rpx;\n\tdisplay: block;\n\tborder-radius: 40rpx;\n}\n\n/* svg not supported on mp-weixin; use CSS capsule instead */\n\n.pet-content {\n\tdisplay: flex;\n\tpadding: 24rpx 18rpx 0 18rpx;\n\t/* border: 1rpx solid yellow; */\n}\n\n/* Â§öÂÆ†Áâ©Ê®™ÊªëÂÆπÂô® */\n.pet-scroll {\n\twhite-space: nowrap;\n\twidth: 100%;\n\theight: 240rpx;\n}\n\n.pet-scroll::-webkit-scrollbar {\n\tdisplay: none;\n\twidth: 0;\n\theight: 0;\n}\n\n.pet-item {\n\tdisplay: inline-flex;\n\talign-items: stretch;\n\twidth: 100%;\n\theight: 220rpx;\n\tbackground: transparent;\n\tborder-radius: 0;\n\t/* padding: 24rpx 18rpx 0 18rpx; */\n\tmargin-right: 0;\n\t/* border: 1rpx solid green; */\n}\n\n.pet-container {\n\twidth: 94%;\n\tdisplay: flex;\n\tpadding: 24rpx 0rpx 0 18rpx;\n\t/* border: 1rpx solid yellow; */\n}\n\n.pet-left {\n\tmargin-right: 32rpx;\n}\n\n.pet-avatar {\n\twidth: 210rpx;\n\theight: 210rpx;\n\tborder-radius: 20rpx;\n\tbackground: #fff7d6;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tborder: 4rpx solid #2c2c2c;\n}\n\n.pet-avatar-inner {\n\twidth: 200rpx;\n\theight: 200rpx;\n\tbackground: linear-gradient(180deg, #ffd280, #ffeab1);\n\tborder-radius: 12rpx;\n}\n\n.pet-right {\n\tflex: 1;\n\theight: 210rpx;\n\tjustify-content: space-between;\n\t/* border: 1rpx solid red; */\n}\n\n.pet-title-row {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n}\n\n.pet-name {\n\tfont-size: 32rpx;\n\tfont-weight: 700;\n\tcolor: #1a1a1a;\n}\n\n.pet-edit {\n\tcolor: #888;\n\tfont-size: 28rpx;\n\tpadding-right: 20rpx;\n}\n\n.pet-meta {\n\tfont-size: 28rpx;\n\tdisplay: block;\n\tmargin-top: 8rpx;\n\tcolor: #6b6b6b;\n}\n\n.pet-tags {\n\tdisplay: flex;\n\tgap: 12rpx;\n\tmargin-top: 16rpx;\n}\n\n.tag {\n\tpadding: 6rpx 16rpx;\n\tborder-radius: 999rpx;\n\tfont-size: 22rpx;\n\tborder: 2rpx solid #2c2c2c;\n\tcolor: #1a1a1a;\n\tbackground: #ffe082;\n}\n\n.tag-cute {\n\tbackground: #ffecb3;\n}\n\n.tag-stick {\n\tbackground: #fff2cc;\n}\n\n/* Row */\n.row {\n\tdisplay: flex;\n\tflex-direction: row;\n\tgap: 24rpx;\n\tmargin-bottom: 24rpx;\n\twidth: 100%;\n\tmax-width: 704rpx;\n\tjustify-content: space-between;\n\talign-items: stretch;\n\theight: 358rpx;\n}\n\n.todo-card {\n\twidth: 284rpx;\n\theight: 100%;\n\tbackground: #ffffff;\n\tborder-radius: 32rpx;\n\tpadding: 20rpx;\n\tbox-shadow: 0 8rpx 16rpx rgba(0, 0, 0, 0.06);\n\tborder: 4rpx solid #2c2c2c;\n\tbox-sizing: border-box;\n\tflex-shrink: 0;\n\torder: 1;\n}\n\n.todo-scroll {\n\theight: 100%;\n\twidth: 100%;\n\toverflow: hidden;\n}\n\n.todo-item {\n    display: flex;\n    align-items: center;\n    gap: 12rpx;\n    padding: 12rpx 0;\n    font-size: 26rpx;\n    color: #1a1a1a;\n}\n\n.bullet {\n    width: 16rpx;\n    height: 16rpx;\n    background: #2c2c2c;\n    border-radius: 50%;\n    flex: 0 0 16rpx;\n}\n\n.side-cards {\n\twidth: 340rpx;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 20rpx;\n\tflex-shrink: 0;\n\torder: 2;\n}\n\n.side-card {\n\tbackground: #ffffff;\n\tborder-radius: 40rpx;\n\tpadding: 24rpx;\n\tbox-shadow: 0 8rpx 16rpx rgba(0, 0, 0, 0.06);\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 20rpx;\n\tborder: 4rpx solid #2c2c2c;\n\tjustify-content: space-between;\n\theight: 115rpx;\n\t/* Áªü‰∏Ä‰∏§‰∏™Âç°ÁâáÈ´òÂ∫¶ */\n}\n\n.side-icon {\n\twidth: 86rpx;\n\theight: 86rpx;\n}\n\n.side-texts {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n\t/* ÊñáÊú¨Âå∫Ëá™ÈÄÇÂ∫îÂ°´ÂÖÖÔºå‰øùËØÅ‰∏§Âç°ÁâáÂêåÈ´ò */\n\tmin-width: 0;\n}\n\n.side-title {\n\tfont-size: 30rpx;\n\tfont-weight: 600;\n\tcolor: #1a1a1a;\n}\n\n.side-sub {\n\tcolor: #6b6b6b;\n\tmargin-top: 8rpx;\n\tfont-size: 22rpx;\n}\n\n/* Science */\n.science {\n    width: 704rpx;\n\theight: 416rpx;\n\tbackground: #ffffff;\n\tborder-radius: 24rpx;\n\tpadding: 26rpx 20rpx 12rpx;\n\t/* ÂáèÂ∞è‰∏äËæπË∑ù‰∏éÊï¥‰ΩìÁ´ñÂêëÈó¥Èöô */\n\tbox-shadow: 0 8rpx 16rpx rgba(0, 0, 0, 0.06);\n\tmargin-bottom: 40rpx;\n\t/* Êõ¥Ë¥¥ËøëÈ°∂ÈÉ®ÂÜÖÂÆπ */\n\tposition: relative;\n\toverflow: hidden;\n\tborder: 4rpx solid #2c2c2c;\n\tbox-sizing: border-box;\n}\n\n.science-hd {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 12rpx;\n\tmargin-bottom: 8rpx;\n\t/* Êî∂Á¥ßÊ†áÈ¢ò‰∏éÊ≠£ÊñáÁöÑË∑ùÁ¶ª */\n}\n\n.science-title {\n\twidth: 28%;\n\tposition: relative;\n\tdisplay: inline-flex;\n\talign-items: center;\n\tbackground: #ffeb3b;\n\tpadding: 10rpx 24rpx 10rpx 28rpx;\n\tborder-radius: 16rpx;\n\tborder: 4rpx solid #2c2c2c;\n}\n\n.science-title text {\n\tfont-weight: 700;\n\tcolor: #1a1a1a;\n}\n\n.title-notch {\n\tposition: absolute;\n\tleft: 12rpx;\n\ttop: -10rpx;\n\twidth: 40rpx;\n\theight: 12rpx;\n\tbackground: #2c2c2c;\n\tborder-radius: 999rpx;\n}\n\n.science-sub {\n\tcolor: #1a1a1a;\n\tmargin-left: 8rpx;\n\tfont-weight: 700;\n\tfont-size: 30rpx;\n}\n\n.science-text {\n\tfont-size: 24rpx;\n\tfont-weight: normal;\n\tdisplay: block;\n\tcolor: #000000;\n\tline-height: 1.8;\n\tmargin: 12rpx 0 16rpx;\n\twidth: 60%;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tdisplay: -webkit-box;\n\tline-clamp: 5; /* Ê†áÂáÜÂ±ûÊÄßÔºåÊèêÂçáÂÖºÂÆπÊÄß */\n\t-webkit-line-clamp: 5; /* ÊúÄÂ§öÊòæÁ§∫4Ë°å */\n\t-webkit-box-orient: vertical;\n\tword-break: break-word;\n}\n\n.science-illust {\n\tposition: absolute;\n\tright: 5rpx;\n\tbottom: 10rpx;\n\twidth: 280rpx;\n}\n\n.science-icons {\n\tposition: absolute;\n\tleft: 16rpx;\n\tbottom: 10rpx;\n\tdisplay: flex;\n\tgap: 12rpx;\n\talign-items: center;\n}\n\n.fish {\n\twidth: 165rpx;\n\theight: 24rpx;\n}\n\n/* ÁúüÊú∫Ë∞ÉËØïÈÄÇÈÖç */\n@media screen and (max-width: 750px) {\n\t.home-page {\n\t\tpadding-top: calc(110rpx + 20px);\n\t}\n}\n\n/* Â∞èÂ±èÂπïËÆæÂ§áÈÄÇÈÖç */\n@media screen and (max-width: 600px) {\n\t.home-page {\n\t\tpadding-left: 12rpx;\n\t\tpadding-right: 12rpx;\n\t}\n\t\n\t.pet-card,\n\t.science {\n\t\twidth: calc(100vw - 24rpx);\n\t\tmax-width: 704rpx;\n\t}\n\t\n\t.row {\n\t\tflex-direction: row;\n\t\tgap: 12rpx;\n\t\twidth: 100%;\n\t}\n\t\n\t.todo-card {\n\t\twidth: 50%;\n\t\tmax-width: 320rpx;\n\t}\n\t\n\t.side-cards {\n\t\twidth: 50%;\n\t\tmax-width: 384rpx;\n\t}\n}\n</style>\n","import MiniProgramPage from 'E:/Uni-App-file/pet-house/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","uni","onMounted","initState","onShow","api","MiniProgramPage"],"mappings":"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"}