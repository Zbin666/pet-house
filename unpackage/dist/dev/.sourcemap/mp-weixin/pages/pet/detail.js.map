{"version":3,"file":"detail.js","sources":["pages/pet/detail.vue","../../HBuilderX.4.57/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcGV0L2RldGFpbC52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"page\">\r\n\t\t<!-- 头像与基本信息 -->\r\n\t\t<view class=\"profile\">\r\n\t\t\t<image class=\"avatar\" :src=\"pet.avatar\" mode=\"aspectFill\"></image>\r\n\t\t\t<view class=\"meta\">\r\n\t\t\t\t<view class=\"row1\">\r\n\t\t\t\t\t<text class=\"name\">{{ pet.name }}</text>\r\n\t\t\t\t\t<image class=\"gender\" :src=\"pet.gender === 'male' ? '/static/user/male.png' : '/static/user/female.png'\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"stats\">\r\n\t\t\t\t\t<view class=\"stat\"><text class=\"num\">{{ pet.months }}月</text><text class=\"label\">月龄</text></view>\r\n\t\t\t\t\t<view class=\"divider\"></view>\r\n\t\t\t\t\t<view class=\"stat\"><text class=\"num\">{{ pet.weight }}kg</text><text class=\"label\">体重</text></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 在一起天数 -->\r\n\t\t<view class=\"ribbon\">\r\n\t\t\t<image class=\"ribbon-left\" src=\"/static/user/dog.jpg\" />\r\n\t\t\t<text class=\"ribbon-text\">在一起已经 {{ togetherDays }} 天了</text>\r\n\t\t</view>\r\n\r\n\t\t<!-- 基本档案 -->\r\n\t\t<view class=\"card\">\r\n\t\t\t<view class=\"row\"><text class=\"label\">品种</text><text>{{ pet.breed }}</text></view>\r\n\t\t\t<view class=\"row\"><text class=\"label\">颜色</text><text>{{ pet.color }}</text></view>\r\n\t\t\t<view class=\"row\"><text class=\"label\">绝育</text><text>{{ pet.neutered ? '已绝育' : '未绝育' }}</text></view>\r\n\t\t\t<view class=\"row\"><text class=\"label\">生日</text><text>{{ pet.birthday }}</text></view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 快捷操作 -->\r\n\t\t<view class=\"actions\">\r\n\t\t\t<button class=\"btn\" @tap=\"goAlbum\">相册</button>\r\n\t\t\t<button class=\"btn ghost\" @tap=\"goEdit\">编辑资料</button>\r\n\t\t</view>\r\n\r\n\t\t<!-- 近期记录 -->\r\n\t\t<view class=\"card\">\r\n\t\t\t<text class=\"section-title\">近期记录</text>\r\n\t\t\t<view class=\"timeline\">\r\n\t\t\t\t<view class=\"tl-item\" v-for=\"r in recent\" :key=\"r.id\">\r\n\t\t\t\t\t<view class=\"dot\"></view>\r\n\t\t\t\t\t<view class=\"tl-meta\">\r\n\t\t\t\t\t\t<text class=\"tl-time\">{{ r.time }}</text>\r\n\t\t\t\t\t\t<text class=\"tl-text\">{{ r.type }} · {{ r.desc }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed } from 'vue'\r\nimport { onLoad } from '@dcloudio/uni-app'\r\n\r\nconst pet = ref({\r\n\tname: '火火',\r\n\tgender: 'male',\r\n\tmonths: 6,\r\n\tweight: 5,\r\n\tbreed: '英短',\r\n\tcolor: '白橘',\r\n\tneutered: true,\r\n\tbirthday: '2023-02-12',\r\n\tavatar: '/static/logo.png',\r\n\tstartTogether: '2024-06-28'\r\n})\r\n\r\nonLoad((query) => {\r\n\tif (query?.pet) {\r\n\t\ttry {\r\n\t\t\tconst data = JSON.parse(decodeURIComponent(query.pet))\r\n\t\t\tObject.assign(pet.value, data)\r\n\t\t} catch (e) {}\r\n\t}\r\n})\r\n\r\nconst recent = ref([\r\n\t{ id: 'r1', time: '今天 08:00', type: '喂食', desc: '猫粮 60g' },\r\n\t{ id: 'r2', time: '昨天 21:10', type: '清洁', desc: '铲砂' }\r\n])\r\n\r\nconst togetherDays = computed(() => {\r\n\tconst start = new Date(pet.value.startTogether).getTime()\r\n\tconst today = new Date().setHours(0,0,0,0)\r\n\treturn Math.max(1, Math.floor((today - start) / 86400000) + 1)\r\n})\r\n\r\nfunction goEdit() { uni.navigateTo({ url: '/pages/editPet/editPet' }) }\r\nfunction goAlbum() { uni.navigateTo({ url: '/pages/album/album' }) }\r\n</script>\r\n\r\n<style scoped>\r\n.page { min-height: 100vh; padding: 24rpx; background: linear-gradient(180deg, #fff1a8 0%, #fff3c9 32%, #fff7e3 68%, #fffaf1 100%); }\r\n\r\n.profile { display: flex; background: #fff; border: 4rpx solid #2c2c2c; border-radius: 32rpx; padding: 20rpx; align-items: center; }\r\n.avatar { width: 180rpx; height: 180rpx; border-radius: 16rpx; background: #f5f5f5; }\r\n.meta { margin-left: 16rpx; flex: 1; display: flex; flex-direction: column; gap: 20rpx; }\r\n.row1 { display: flex; align-items: center; gap: 12rpx; }\r\n.name { font-weight: 800; font-size: 36rpx; }\r\n.gender { width: 32rpx; height: 32rpx; }\r\n.stats { display: flex; align-items: center; justify-content: space-between; width: 100%; }\r\n.stat { display: flex; flex-direction: column; align-items: center; min-width: 140rpx; }\r\n.num { font-weight: 800; font-size: 36rpx; }\r\n.label { color: #666; font-size: 24rpx; }\r\n.divider { width: 2rpx; height: 56rpx; background: #c8c8c8; }\r\n\r\n.ribbon { position: relative; margin: 20rpx 0 22rpx; height: 88rpx; display: flex; align-items: center; background: #fff; border: 4rpx solid #2c2c2c; border-radius: 999rpx; overflow: hidden; }\r\n.ribbon-left { width: 160rpx; height: 100%; object-fit: cover; }\r\n.ribbon-text { flex: 1; text-align: center; font-weight: 700; font-size: 32rpx; color: #2c2c2c; }\r\n\r\n.card { background: #fff; border: 4rpx solid #2c2c2c; border-radius: 24rpx; padding: 16rpx; margin-top: 16rpx; }\r\n.row { display: flex; justify-content: space-between; padding: 16rpx 4rpx; border-bottom: 1px solid #f0f0f0; }\r\n.row:last-child { border-bottom: 0; }\r\n.row .label { color: #666; }\r\n.section-title { display: block; font-weight: 700; margin-bottom: 12rpx; }\r\n\r\n.actions { display: flex; gap: 16rpx; margin-top: 16rpx; }\r\n.btn { flex: 1; background: #ffe046; color: #1a1a1a; border: 4rpx solid #2c2c2c; border-radius: 999rpx; height: 90rpx; line-height: 90rpx; font-weight: 700; }\r\n.btn.ghost { background: #fff; }\r\n\r\n.timeline { margin-top: 8rpx; }\r\n.tl-item { display: flex; align-items: flex-start; margin: 12rpx 0; }\r\n.dot { width: 12rpx; height: 12rpx; border-radius: 50%; background: #ffb300; margin-right: 12rpx; margin-top: 8rpx; }\r\n.tl-time { font-weight: 600; margin-right: 8rpx; }\r\n.tl-text { color: #666; }\r\n</style>\r\n\r\n\r\n","import MiniProgramPage from 'E:/Uni-App-file/pet-house/pages/pet/detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onLoad","computed","uni"],"mappings":";;;;;;AA0DA,UAAM,MAAMA,cAAAA,IAAI;AAAA,MACf,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,OAAO;AAAA,MACP,UAAU;AAAA,MACV,UAAU;AAAA,MACV,QAAQ;AAAA,MACR,eAAe;AAAA,IAChB,CAAC;AAEDC,kBAAM,OAAC,CAAC,UAAU;AACjB,UAAI,+BAAO,KAAK;AACf,YAAI;AACH,gBAAM,OAAO,KAAK,MAAM,mBAAmB,MAAM,GAAG,CAAC;AACrD,iBAAO,OAAO,IAAI,OAAO,IAAI;AAAA,QAChC,SAAW,GAAG;AAAA,QAAE;AAAA,MACd;AAAA,IACF,CAAC;AAED,UAAM,SAASD,cAAAA,IAAI;AAAA,MAClB,EAAE,IAAI,MAAM,MAAM,YAAY,MAAM,MAAM,MAAM,SAAU;AAAA,MAC1D,EAAE,IAAI,MAAM,MAAM,YAAY,MAAM,MAAM,MAAM,KAAM;AAAA,IACvD,CAAC;AAED,UAAM,eAAeE,cAAQ,SAAC,MAAM;AACnC,YAAM,QAAQ,IAAI,KAAK,IAAI,MAAM,aAAa,EAAE,QAAS;AACzD,YAAM,SAAQ,oBAAI,QAAO,SAAS,GAAE,GAAE,GAAE,CAAC;AACzC,aAAO,KAAK,IAAI,GAAG,KAAK,OAAO,QAAQ,SAAS,KAAQ,IAAI,CAAC;AAAA,IAC9D,CAAC;AAED,aAAS,SAAS;AAAEC,oBAAAA,MAAI,WAAW,EAAE,KAAK,yBAAwB,CAAE;AAAA,IAAG;AACvE,aAAS,UAAU;AAAEA,oBAAAA,MAAI,WAAW,EAAE,KAAK,qBAAoB,CAAE;AAAA,IAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3FpE,GAAG,WAAW,eAAe;"}