{"version":3,"file":"index.js","sources":["pages/record/index.vue","../../HBuilderX.4.57/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcmVjb3JkL2luZGV4LnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"page\">\n\t\t<view class=\"header\">\n\t\t\t<text class=\"title\">记录</text>\n\t\t\t<button class=\"btn\" type=\"primary\" @tap=\"goCreate\">新增记录</button>\n\t\t</view>\n\t\t<view class=\"tabs\">\n\t\t\t<view :class=\"['tab', activeTab==='calendar'?'active':'']\" @tap=\"activeTab='calendar'\">日历</view>\n\t\t\t<view :class=\"['tab', activeTab==='list'?'active':'']\" @tap=\"activeTab='list'\">列表</view>\n\t\t\t<view :class=\"['tab', activeTab==='stats'?'active':'']\" @tap=\"activeTab='stats'\">统计</view>\n\t\t</view>\n\t\t<view v-if=\"activeTab==='calendar'\" class=\"section\">\n\t\t\t<view class=\"cal-header\">\n\t\t\t\t<text class=\"month\">{{ currentYear }}年{{ currentMonth + 1 }}月</text>\n\t\t\t</view>\n\t\t\t<view class=\"cal-week\">\n\t\t\t\t<text v-for=\"w in weeks\" :key=\"w\" class=\"w\">{{ w }}</text>\n\t\t\t</view>\n\t\t\t<view class=\"cal-grid\">\n\t\t\t\t<view v-for=\"(d,idx) in calendarDays\" :key=\"idx\" :class=\"['cell', d.inMonth? 'in':'out', d.isToday? 'today':'']\">\n\t\t\t\t\t<text class=\"num\">{{ d.day }}</text>\n\t\t\t\t\t<view v-if=\"d.hasRecord\" class=\"dot\"></view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view v-else-if=\"activeTab==='list'\" class=\"section\">\n\t\t\t<view class=\"card\" v-for=\"item in mockList\" :key=\"item.id\">\n\t\t\t\t<view class=\"badge\">{{ item.type }}</view>\n\t\t\t\t<view class=\"right\">\n\t\t\t\t\t<text class=\"time\">{{ item.time }}</text>\n\t\t\t\t\t<text class=\"card-desc\">{{ item.desc }}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view v-else class=\"section\">\n\t\t\t<view class=\"stats\">\n\t\t\t\t<view class=\"kpi\"><text class=\"num\">{{ stats.feed }}</text><text class=\"label\">本周喂食</text></view>\n\t\t\t\t<view class=\"kpi\"><text class=\"num\">{{ stats.clean }}</text><text class=\"label\">本周清洁</text></view>\n\t\t\t\t<view class=\"kpi\"><text class=\"num\">{{ stats.weight }}</text><text class=\"label\">最近体重(kg)</text></view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\n\nconst activeTab = ref('calendar')\nconst weeks = ref(['日','一','二','三','四','五','六'])\nconst current = ref(new Date())\nconst mockList = ref([\n\t{ id: '1', type: '喂食', time: '今天 08:00', desc: '鸡胸+猫粮 50g' },\n\t{ id: '2', type: '饮水', time: '今天 10:30', desc: '自动饮水机补水' }\n])\nconst stats = ref({ feed: 9, clean: 3, weight: 4.2 })\n\nconst currentYear = computed(() => current.value.getFullYear())\nconst currentMonth = computed(() => current.value.getMonth())\n\nconst calendarDays = computed(() => {\n\tconst year = currentYear.value\n\tconst month = currentMonth.value\n\tconst first = new Date(year, month, 1)\n\tconst startWeek = first.getDay()\n\tconst daysInMonth = new Date(year, month + 1, 0).getDate()\n\tconst daysPrevMonth = new Date(year, month, 0).getDate()\n\tconst cells = []\n\tfor (let i = 0; i < 42; i++) {\n\t\tlet day, inMonth\n\t\tif (i < startWeek) {\n\t\t\tday = daysPrevMonth - startWeek + i + 1; inMonth = false\n\t\t} else if (i < startWeek + daysInMonth) {\n\t\t\tday = i - startWeek + 1; inMonth = true\n\t\t} else {\n\t\t\tday = i - startWeek - daysInMonth + 1; inMonth = false\n\t\t}\n\t\tconst today = new Date()\n\t\tconst isToday = inMonth && (day === today.getDate()) && (month === today.getMonth()) && (year === today.getFullYear())\n\t\tconst hasRecord = inMonth && (day % 2 === 0)\n\t\tcells.push({ day, inMonth, isToday, hasRecord })\n\t}\n\treturn cells\n})\n\nfunction goCreate() { uni.navigateTo({ url: '/pages/record/create' }) }\n</script>\n\n<style scoped>\n.page { padding: 16rpx; padding-top: calc(16rpx + env(safe-area-inset-top)); padding-top: calc(16rpx + constant(safe-area-inset-top)); }\n.header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 16rpx; }\n.title { font-size: 36rpx; font-weight: 600; }\n.btn { background-color: #ffd54f; color: #333; }\n.tabs { display: flex; gap: 24rpx; margin: 16rpx 0; }\n.tab { padding: 8rpx 16rpx; border-radius: 999rpx; background: #fff3cd; color: #6c5c00; }\n.tab.active { background: #ffec99; font-weight: 600; }\n.section { background: #fff; border-radius: 16rpx; padding: 24rpx; }\n/* calendar */\n.cal-header { display: flex; justify-content: center; margin-bottom: 12rpx; }\n.month { font-weight: 600; }\n.cal-week { display: grid; grid-template-columns: repeat(7, 1fr); text-align: center; color: #888; margin-bottom: 8rpx; }\n.w { padding: 8rpx 0; }\n.cal-grid { display: grid; grid-template-columns: repeat(7, 1fr); grid-auto-rows: 90rpx; gap: 8rpx; }\n.cell { position: relative; background: #fffdf2; border-radius: 12rpx; display: flex; align-items: flex-start; justify-content: flex-end; padding: 6rpx 8rpx; }\n.cell.out { background: #faf7e6; color: #bbb; }\n.cell.today { outline: 2rpx solid #ffd54f; }\n.num { font-size: 24rpx; }\n.dot { position: absolute; left: 8rpx; bottom: 8rpx; width: 10rpx; height: 10rpx; border-radius: 50%; background: #ffb300; }\n/* list */\n.card { display: flex; padding: 16rpx; border-radius: 16rpx; background: #fffdf2; margin-bottom: 12rpx; }\n.badge { background: #ffe082; padding: 6rpx 12rpx; border-radius: 999rpx; margin-right: 12rpx; font-size: 24rpx; }\n.right { display: flex; flex-direction: column; }\n.time { font-weight: 600; margin-bottom: 6rpx; }\n.card-desc { color: #666; }\n/* stats */\n.stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12rpx; }\n.kpi { background: #fffdf2; border-radius: 16rpx; padding: 20rpx; text-align: center; }\n.kpi .num { font-size: 40rpx; font-weight: 700; display: block; }\n.kpi .label { color: #666; }\n</style>\n","import MiniProgramPage from 'E:/Uni-App-file/pet-house/pages/record/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","uni"],"mappings":";;;;;AA+CA,UAAM,YAAYA,cAAG,IAAC,UAAU;AAChC,UAAM,QAAQA,cAAAA,IAAI,CAAC,KAAI,KAAI,KAAI,KAAI,KAAI,KAAI,GAAG,CAAC;AAC/C,UAAM,UAAUA,cAAAA,IAAI,oBAAI,MAAM;AAC9B,UAAM,WAAWA,cAAAA,IAAI;AAAA,MACpB,EAAE,IAAI,KAAK,MAAM,MAAM,MAAM,YAAY,MAAM,YAAa;AAAA,MAC5D,EAAE,IAAI,KAAK,MAAM,MAAM,MAAM,YAAY,MAAM,UAAW;AAAA,IAC3D,CAAC;AACD,UAAM,QAAQA,cAAAA,IAAI,EAAE,MAAM,GAAG,OAAO,GAAG,QAAQ,KAAK;AAEpD,UAAM,cAAcC,cAAAA,SAAS,MAAM,QAAQ,MAAM,YAAW,CAAE;AAC9D,UAAM,eAAeA,cAAAA,SAAS,MAAM,QAAQ,MAAM,SAAQ,CAAE;AAE5D,UAAM,eAAeA,cAAQ,SAAC,MAAM;AACnC,YAAM,OAAO,YAAY;AACzB,YAAM,QAAQ,aAAa;AAC3B,YAAM,QAAQ,IAAI,KAAK,MAAM,OAAO,CAAC;AACrC,YAAM,YAAY,MAAM,OAAQ;AAChC,YAAM,cAAc,IAAI,KAAK,MAAM,QAAQ,GAAG,CAAC,EAAE,QAAS;AAC1D,YAAM,gBAAgB,IAAI,KAAK,MAAM,OAAO,CAAC,EAAE,QAAS;AACxD,YAAM,QAAQ,CAAE;AAChB,eAAS,IAAI,GAAG,IAAI,IAAI,KAAK;AAC5B,YAAI,KAAK;AACT,YAAI,IAAI,WAAW;AAClB,gBAAM,gBAAgB,YAAY,IAAI;AAAG,oBAAU;AAAA,QACtD,WAAa,IAAI,YAAY,aAAa;AACvC,gBAAM,IAAI,YAAY;AAAG,oBAAU;AAAA,QACtC,OAAS;AACN,gBAAM,IAAI,YAAY,cAAc;AAAG,oBAAU;AAAA,QACjD;AACD,cAAM,QAAQ,oBAAI,KAAM;AACxB,cAAM,UAAU,WAAY,QAAQ,MAAM,QAAO,KAAQ,UAAU,MAAM,SAAQ,KAAQ,SAAS,MAAM,YAAW;AACnH,cAAM,YAAY,WAAY,MAAM,MAAM;AAC1C,cAAM,KAAK,EAAE,KAAK,SAAS,SAAS,WAAW;AAAA,MAC/C;AACD,aAAO;AAAA,IACR,CAAC;AAED,aAAS,WAAW;AAAEC,oBAAAA,MAAI,WAAW,EAAE,KAAK,uBAAsB,CAAE;AAAA,IAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnFvE,GAAG,WAAW,eAAe;"}