{"version":3,"file":"setting.js","sources":["pages/settings/setting.vue","../../HBuilderX.4.57/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc2V0dGluZ3Mvc2V0dGluZy52dWU"],"sourcesContent":["<template>\n\t<view class=\"page\">\n\t\t<!-- 叠纸卡片背景 -->\n\t\t<view class=\"sheet\">\n\t\t\t<view class=\"sheet-bg bg1\"></view>\n\t\t\t<view class=\"sheet-body\">\n\t\t\t\t<!-- 用户头像和基本信息 -->\n\t\t\t\t<view class=\"header\">\n\t\t\t\t\t<view class=\"avatar-wrap\" @tap=\"pickAvatar\">\n\t\t\t\t\t\t<image class=\"avatar\" :src=\"getUserAvatarSrc(userInfo.avatar)\" mode=\"aspectFill\" @error=\"onAvatarError\" @load=\"onAvatarLoad\" />\n\t\t\t\t\t\t<view class=\"avatar-edit\">编辑</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"user-info\">\n\t\t\t\t\t\t<text class=\"username\">{{ userInfo.name }}</text>\n\t\t\t\t\t\t<text class=\"user-desc\">{{ userInfo.desc }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<!-- 编辑按钮 -->\n\t\t\t\t<view class=\"edit-row\">\n\t\t\t\t\t<button v-if=\"!editMode\" class=\"btn ghost with-icon\" @tap=\"startEdit\">\n\t\t\t\t\t\t<image class=\"btn-icon\" src=\"/static/tarBar/index-active.png\" mode=\"widthFix\" />\n\t\t\t\t\t\t<text>编辑资料</text>\n\t\t\t\t\t</button>\n\t\t\t\t\t<view v-else class=\"edit-actions\">\n\t\t\t\t\t\t<button class=\"btn ghost\" @tap=\"cancelEdit\">取消</button>\n\t\t\t\t\t\t<button class=\"btn\" @tap=\"saveEdit\">保存</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<view class=\"divider-h\"></view>\n\n\t\t\t\t<!-- 用户信息表单 -->\n\t\t\t\t<view class=\"form-section\">\n\t\t\t\t\t<view class=\"form-row\">\n\t\t\t\t\t\t<text class=\"label\">昵称：</text>\n\t\t\t\t\t\t<template v-if=\"!editMode\">\n\t\t\t\t\t\t\t<text class=\"value\">{{ userInfo.name }}</text>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<input v-else class=\"input\" v-model=\"form.name\" placeholder=\"请输入昵称\" />\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<view class=\"form-row\">\n\t\t\t\t\t\t<text class=\"label\">个人简介：</text>\n\t\t\t\t\t\t<template v-if=\"!editMode\">\n\t\t\t\t\t\t\t<text class=\"value\">{{ userInfo.desc || '暂无简介' }}</text>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<textarea v-else class=\"textarea\" v-model=\"form.desc\" placeholder=\"介绍一下自己吧～\" />\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<view class=\"form-row\">\n\t\t\t\t\t\t<text class=\"label\">手机号：</text>\n\t\t\t\t\t\t<template v-if=\"!editMode\">\n\t\t\t\t\t\t\t<text class=\"value\">{{ userInfo.phone || '未绑定' }}</text>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<input v-else class=\"input\" v-model=\"form.phone\" placeholder=\"请输入手机号\" />\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<view class=\"form-row\">\n\t\t\t\t\t\t<text class=\"label\">邮箱：</text>\n\t\t\t\t\t\t<template v-if=\"!editMode\">\n\t\t\t\t\t\t\t<text class=\"value\">{{ userInfo.email || '未绑定' }}</text>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<input v-else class=\"input\" v-model=\"form.email\" placeholder=\"请输入邮箱\" />\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<view class=\"form-row\">\n\t\t\t\t\t\t<text class=\"label\">注册时间：</text>\n\t\t\t\t\t\t<text class=\"value\">{{ userInfo.registerTime }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<view class=\"divider-h\"></view>\n\n\t\t\t\t<!-- 其他设置 -->\n\t\t\t\t<view class=\"settings-section\">\n\t\t\t\t\t<view class=\"setting-item\">\n\t\t\t\t\t\t<text class=\"setting-label\">消息通知</text>\n\t\t\t\t\t\t<switch :checked=\"settings.notifications\" @change=\"e => settings.notifications = e.detail.value\" />\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"setting-item\">\n\t\t\t\t\t\t<text class=\"setting-label\">隐私模式</text>\n\t\t\t\t\t\t<switch :checked=\"settings.privacy\" @change=\"e => settings.privacy = e.detail.value\" />\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"setting-item\" @tap=\"clearCache\">\n\t\t\t\t\t\t<text class=\"setting-label\">清除缓存</text>\n\t\t\t\t\t\t<text class=\"setting-value\">{{ cacheSize }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\nimport { ref, reactive } from 'vue'\nimport { onLoad } from '@dcloudio/uni-app'\nimport { api } from '@/utils/api.js'\nimport { pickAndUploadAvatar } from '@/utils/upload.js'\n\n// 头像下载缓存，避免重复下载\nconst avatarCache = new Map()\n\ndefineOptions({ name: 'SettingsIndex' })\n\n// 用户信息（由后端填充）\nconst userInfo = ref({\n    id: '',\n    name: '',\n    desc: '', // 映射到用户设置中的 bio\n    phone: '',\n    email: '',\n    avatar: '/static/user/user.png',\n    registerTime: ''\n})\n\n// 编辑模式\nconst editMode = ref(false)\nconst form = reactive({\n\tname: '',\n\tdesc: '',\n\tphone: '',\n\temail: '',\n\tavatar: ''\n})\n\n// 设置项\nconst settings = reactive({\n\tnotifications: true,\n\tprivacy: false\n})\n\nconst cacheSize = ref('—')\n\n// 获取用户头像的可显示 src（与 user.vue 保持一致）\nfunction getUserAvatarSrc(url) {\n    if (!url) return '/static/user/user.png'\n\n    // 统一规范化：\n    // 1) /uploads/ 相对路径 → 拼接静态域名\n    // 2) 强制 http → https，去掉 :80\n    let normalized = url\n    if (normalized.startsWith('/uploads/')) {\n        normalized = `https://pet-api.zbinli.cn${normalized}`\n    }\n    if (normalized.startsWith('http://pet-api.zbinli.cn')) {\n        normalized = normalized.replace('http://pet-api.zbinli.cn', 'https://pet-api.zbinli.cn')\n    }\n    normalized = normalized.replace('://pet-api.zbinli.cn:80', '://pet-api.zbinli.cn')\n\n    // 本地或静态路径直接返回\n    if (normalized.startsWith('wxfile://') || normalized.startsWith('/static/')) {\n        return normalized\n    }\n\n    // 命中缓存\n    if (avatarCache.has(normalized)) {\n        return avatarCache.get(normalized)\n    }\n\n    // 下载网络图片到本地临时文件\n    uni.downloadFile({\n        url: normalized,\n        success: (res) => {\n            if (res.statusCode === 200 && res.tempFilePath) {\n                avatarCache.set(normalized, res.tempFilePath)\n                userInfo.value = { ...(userInfo.value || {}) }\n            } else {\n                avatarCache.set(normalized, '/static/user/user.png')\n                userInfo.value = { ...(userInfo.value || {}) }\n            }\n        },\n        fail: () => {\n            avatarCache.set(normalized, '/static/user/user.png')\n            userInfo.value = { ...(userInfo.value || {}) }\n        }\n    })\n\n    // 下载中返回占位\n    return '/static/user/user.png'\n}\n\nfunction onAvatarError(e) {\n    try {\n        e && e.target && (e.target.src = '/static/user/user.png')\n    } catch {}\n}\n\nfunction onAvatarLoad(_) {\n    // 可按需添加埋点/日志\n}\n\nonLoad(() => {\n\tuni.setNavigationBarTitle({ title: '个人设置' })\n\tuni.setNavigationBarColor({ frontColor: '#000000', backgroundColor: '#fff1a8' })\n\t// 估算缓存体积（简化示例）\n\ttry {\n\t\tconst keys = uni.getStorageInfoSync().keys || []\n\t\tcacheSize.value = `${keys.length} 项`\n\t} catch (e) { cacheSize.value = '—' }\n    // 加载用户资料与设置\n    loadProfileAndSettings()\n})\n\n// 编辑功能\nfunction startEdit() {\n\teditMode.value = true\n\tObject.assign(form, {\n\t\tname: userInfo.value.name,\n\t\tdesc: userInfo.value.desc,\n\t\tphone: userInfo.value.phone,\n\t\temail: userInfo.value.email,\n\t\tavatar: userInfo.value.avatar\n\t})\n}\n\nfunction cancelEdit() {\n\teditMode.value = false\n}\n\nasync function saveEdit() {\n    try {\n        // 更新用户基本资料（昵称/邮箱/手机/头像/简介bio）\n        const profilePayload = {\n            nickname: form.name,\n            email: form.email,\n            phone: form.phone,\n            bio: form.desc,\n            avatarUrl: form.avatar && form.avatar.startsWith('http') ? form.avatar : undefined\n        }\n        // 过滤空值，避免覆盖\n        Object.keys(profilePayload).forEach((k) => profilePayload[k] === undefined && delete profilePayload[k])\n\n        await api.updateProfile(profilePayload)\n\n        // 本地同步\n        userInfo.value = {\n            ...userInfo.value,\n            name: form.name,\n            desc: form.desc,\n            phone: form.phone,\n            email: form.email,\n            avatar: form.avatar || userInfo.value.avatar\n        }\n        editMode.value = false\n        uni.showToast({ title: '保存成功', icon: 'success' })\n    } catch (e) {\n        uni.showToast({ title: '保存失败', icon: 'none' })\n    }\n}\n\nasync function pickAvatar() {\n    try {\n        // 选择并上传头像，返回完整可访问的URL（HTTPS/白名单域名）\n        const url = await pickAndUploadAvatar()\n        \n        // 立即保存到后端用户资料\n        await api.updateProfile({ avatarUrl: url })\n        \n        // 同步到本地UI\n        if (editMode.value) {\n            form.avatar = url\n        }\n        userInfo.value.avatar = url\n        userInfo.value.avatarUrl = url\n        \n        uni.showToast({ title: '头像已更新', icon: 'success' })\n    } catch (e) {\n        uni.showToast({ title: '头像更新失败', icon: 'none' })\n    }\n}\n\nfunction clearCache() {\n\tuni.showModal({\n\t\ttitle: '确认清除',\n\t\tcontent: '确定要清除所有缓存吗？',\n\t\tsuccess: (res) => {\n\t\t\tif (res.confirm) {\n\t\t\t\ttry {\n\t\t\t\t\tuni.clearStorageSync()\n\t\t\t\t\tcacheSize.value = '0 项'\n\t\t\t\t\tuni.showToast({ title: '已清除', icon: 'success' })\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\t\t}\n\t})\n}\n\n// 工具与数据加载\nfunction formatRegisterTime(iso) {\n    if (!iso) return ''\n    try {\n        const d = new Date(iso)\n        const y = d.getFullYear()\n        const m = `${d.getMonth() + 1}`.padStart(2, '0')\n        const day = `${d.getDate()}`.padStart(2, '0')\n        return `${y}-${m}-${day}`\n    } catch (_) { return '' }\n}\n\nasync function loadProfileAndSettings() {\n    try {\n        const [profile, userSettings] = await Promise.all([\n            api.getProfile(),\n            api.getSettings().catch(() => ({}))\n        ])\n\n        userInfo.value = {\n            id: profile?.id || '',\n            name: profile?.nickname || '新用户',\n            desc: profile?.bio || '',\n            phone: profile?.phone || '',\n            email: profile?.email || '',\n            avatar: profile?.avatarUrl || '/static/user/user.png',\n            registerTime: formatRegisterTime(profile?.createdAt)\n        }\n    } catch (e) {\n        // 降级为默认占位\n        userInfo.value = {\n            id: '',\n            name: '新用户',\n            desc: '',\n            phone: '',\n            email: '',\n            avatar: '/static/user/user.png',\n            registerTime: ''\n        }\n    }\n}\n</script>\n\n<style scoped>\n.page {\n    min-height: 100vh;\n    padding: 24rpx 40rpx; /* 增大左右留白 */\n    padding-top: calc(110rpx + env(safe-area-inset-top)); /* 与宠物详情一致的顶部距离 */\n    padding-top: calc(110rpx + constant(safe-area-inset-top));\n    background: linear-gradient(180deg, #fff1a8 0%, #fff3c9 32%, #fff7e3 68%, #fffaf1 100%);\n}\n\n.sheet {\n    position: relative;\n    padding-top: 30rpx; /* 下移卡片 */\n    padding-bottom: 45rpx; /* 底部留白 */\n}\n\n.sheet-bg {\n\tposition: absolute;\n\tleft: 12rpx;\n\tright: 12rpx;\n\theight: 96%;\n\tborder: 4rpx solid #2c2c2c;\n\tborder-radius: 32rpx;\n\tbackground: #fff;\n\tz-index: 0;\n\tpointer-events: none;\n}\n\n.sheet-bg.bg1 {\n\ttop: 24rpx;\n    bottom: 0; /* 跟随主卡片内容高度变化 */\n    height: 90%; /* 动态高度由 top/bottom 约束 */\n    width: 658rpx; /* 略小于主体宽度 600rpx，形成叠纸边缘 */\n    left: 50%;\n    right: auto;\n    transform: translateX(-50%) rotate(-3deg);\n}\n\n.sheet-body {\n\twidth: 625rpx;\n\tmargin: 0 auto;\n\tposition: relative;\n\tbackground: #fff;\n\tborder: 4rpx solid #2c2c2c;\n\tborder-radius: 32rpx;\n\tpadding: 32rpx 28rpx 120rpx 28rpx;\n\tz-index: 1;\n}\n\n.header {\n\tmargin-top: 15rpx;\n\tdisplay: flex;\n\tgap: 24rpx;\n\talign-items: center;\n}\n\n.avatar-wrap {\n\tposition: relative;\n\twidth: 100rpx;\n\theight: 100rpx;\n\tborder: 4rpx solid #2c2c2c;\n\tborder-radius: 16rpx;\n\tbackground: #f5f5f5;\n\toverflow: hidden;\n}\n\n.avatar {\n\twidth: 100rpx;\n\theight: 100rpx;\n\tborder-radius: 16rpx;\n\tbackground: #f5f5f5;\n}\n\n.avatar-edit {\n\tposition: absolute;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tbackground: rgba(0, 0, 0, 0.6);\n\tcolor: #fff;\n\ttext-align: center;\n\tfont-size: 24rpx;\n\tpadding: 8rpx;\n}\n\n.user-info {\n\tflex: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 8rpx;\n}\n\n.username {\n\tfont-size: 36rpx;\n\tfont-weight: 700;\n\tcolor: #2c2c2c;\n}\n\n.user-desc {\n\tfont-size: 28rpx;\n\tcolor: #666;\n}\n\n.edit-row {\n\tposition: absolute;\n\tleft: 28rpx;\n\tright: 28rpx;\n\tbottom: 28rpx;\n\tdisplay: flex;\n\tjustify-content: center;\n\tz-index: 2;\n}\n\n.edit-actions {\n\tdisplay: flex;\n\tgap: 28rpx;\n}\n\n.btn {\n\tbackground: #ffe046;\n\tcolor: #1a1a1a;\n\tborder: 4rpx solid #2c2c2c;\n\tborder-radius: 999rpx;\n\theight: 72rpx;\n\tline-height: 72rpx;\n\tpadding: 0 24rpx;\n\tfont-weight: 700;\n}\n\n.btn.ghost {\n\tbackground: #fff;\n}\n\n.btn.with-icon {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n\tgap: 12rpx;\n\tpadding: 0 28rpx;\n}\n\n.btn-icon {\n\twidth: 38rpx;\n\theight: 38rpx;\n}\n\n.divider-h {\n\theight: 2rpx;\n\tbackground: #e9e9e9;\n\tmargin: 28rpx 0;\n}\n\n.form-section {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 24rpx;\n}\n\n.form-row {\n\tdisplay: grid;\n\tgrid-template-columns: 160rpx 1fr;\n\talign-items: center;\n\tcolumn-gap: 12rpx;\n}\n\n.label {\n\tfont-weight: 700;\n\tfont-size: 30rpx;\n\tcolor: #2c2c2c;\n}\n\n.value {\n\tfont-size: 30rpx;\n\tcolor: #666;\n}\n\n.input {\n\tbackground: #fff;\n\tborder: 4rpx solid #2c2c2c;\n\tborder-radius: 12rpx;\n\tpadding: 10rpx 14rpx;\n\tfont-size: 30rpx;\n}\n\n.textarea {\n\twidth: 100%;\n\tmax-width: 100%;\n\tbox-sizing: border-box;\n\tmin-height: 120rpx;\n\tborder: 4rpx solid #2c2c2c;\n\tborder-radius: 12rpx;\n\tpadding: 12rpx 16rpx;\n\tbackground: #fff;\n\tfont-size: 30rpx;\n}\n\n.settings-section {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 24rpx;\n}\n\n.setting-item {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 20rpx 0;\n}\n\n.setting-label {\n\tfont-size: 30rpx;\n\tfont-weight: 700;\n\tcolor: #2c2c2c;\n}\n\n.setting-value {\n\tfont-size: 28rpx;\n\tcolor: #666;\n}\n</style>\n","import MiniProgramPage from 'E:/Uni-App-file/pet-house/pages/settings/setting.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","reactive","uni","onLoad","api","pickAndUploadAvatar"],"mappings":"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"}