{"version":3,"file":"scienceDetail.js","sources":["pages/scienceDetail/scienceDetail.vue","../../HBuilderX.4.57/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc2NpZW5jZURldGFpbC9zY2llbmNlRGV0YWlsLnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"page\" :style=\"dynamicTopPadding\">\n\t\t<!-- 科普内容卡片 -->\n\t\t<view class=\"content-card\">\n\t\t\t<!-- 标题区域 -->\n\t\t\t<view class=\"title-section\">\n\t\t\t\t<view class=\"title-tag\">\n\t\t\t\t\t<text class=\"title-text\">{{ article.title }}</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"read-count\">{{ article.reads }}个阅读</text>\n\t\t\t</view>\n\n\t\t\t<!-- 富文本内容 -->\n\t\t\t<rich-text :nodes=\"article.content\" class=\"rich-content\" />\n\t\t\t\n\t\t\t<!-- 图片网格（如果有） -->\n\t\t\t<view class=\"image-grid\" v-if=\"article.images && article.images.length\">\n\t\t\t\t<image \n\t\t\t\t\tclass=\"content-image\" \n\t\t\t\t\tv-for=\"(img, index) in article.images\" \n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t:src=\"img\" \n\t\t\t\t\tmode=\"aspectFill\" \n\t\t\t\t\t@tap=\"previewImage(img, article.images)\"\n\t\t\t\t/>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup lang=\"ts\">\nimport { reactive, ref, onMounted } from 'vue'\nimport { onLoad } from '@dcloudio/uni-app'\n\n// 动态顶部内边距\nconst dynamicTopPadding = ref('')\nonMounted(() => {\n\ttry {\n\t\tconst info = uni.getSystemInfoSync()\n\t\tconst statusBar = info.statusBarHeight || 0\n\t\tconst screenW = info.screenWidth || 375\n\t\tconst rpxToPx = (rpx) => (rpx * screenW) / 750\n\t\tconst topPx = 15\n\t\tdynamicTopPadding.value = `padding-top:${topPx}px;`\n\t} catch (e) {\n\t\tdynamicTopPadding.value = ''\n\t}\n})\n\ntype Article = {\n\tid: string\n\ttitle: string\n\treads: number\n\tcontent: string\n\timages?: string[]\n\tauthor?: {\n\t\tname: string\n\t\tavatar: string\n\t}\n\tcreatedAt?: string\n\tupdatedAt?: string\n}\n\nconst article = reactive<Article>({\n\tid: '1',\n\ttitle: '猫咪行为超详解',\n\treads: 50,\n\tcontent: `\n\t\t<div style=\"font-size: 28rpx; line-height: 1.8; color: #333;\">\n\t\t\t<h3 style=\"font-size: 32rpx; font-weight: 700; color: #2c2c2c; margin: 24rpx 0 16rpx 0;\">防御行为语言</h3>\n\t\t\t<ul style=\"margin: 0; padding-left: 20rpx;\">\n\t\t\t\t<li style=\"margin-bottom: 12rpx; color: #333;\">嘶声:威胁,别过来!</li>\n\t\t\t\t<li style=\"margin-bottom: 12rpx; color: #333;\">嗷声:激动或害怕</li>\n\t\t\t\t<li style=\"margin-bottom: 12rpx; color: #333;\">呜呜:保护重要东西,别过来</li>\n\t\t\t\t<li style=\"margin-bottom: 12rpx; color: #333;\">提起一只爪子:准备防御</li>\n\t\t\t\t<li style=\"margin-bottom: 12rpx; color: #333;\">胡须向上竖起:提出抗议,但不想激化矛盾</li>\n\t\t\t\t<li style=\"margin-bottom: 12rpx; color: #333;\">胡须向后平伏:接受条件,愿意服从</li>\n\t\t\t\t<li style=\"margin-bottom: 12rpx; color: #333;\">全身蜷缩,瞳孔放大,发\"喵\"声:我认怂还不行吗?别打我!</li>\n\t\t\t</ul>\n\t\t\t\n\t\t\t<h3 style=\"font-size: 32rpx; font-weight: 700; color: #2c2c2c; margin: 32rpx 0 16rpx 0;\">攻击行为语言</h3>\n\t\t\t<ul style=\"margin: 0; padding-left: 20rpx;\">\n\t\t\t\t<li style=\"margin-bottom: 12rpx; color: #333;\">嘴向后咧:示威、炫耀、虚张声势,我很牛的!</li>\n\t\t\t\t<li style=\"margin-bottom: 12rpx; color: #333;\">竖毛:打架前的招牌动作,警告的意思。</li>\n\t\t\t</ul>\n\t\t</div>\n\t`,\n\timages: [\n\t\t'/static/logo.png',\n\t\t'/static/logo.png',\n\t\t'/static/logo.png',\n\t\t'/static/logo.png',\n\t\t'/static/logo.png',\n\t\t'/static/logo.png'\n\t],\n\tauthor: {\n\t\tname: '科普官',\n\t\tavatar: '/static/logo.png'\n\t},\n\tcreatedAt: '2025-01-01',\n\tupdatedAt: '2025-01-01'\n})\n\n// 图片预览功能\nfunction previewImage(current: string, urls: string[]) {\n\tuni.previewImage({\n\t\tcurrent,\n\t\turls\n\t})\n}\n\n// 设置顶部导航标题与背景色\nonLoad(() => {\n\ttry {\n\t\tuni.setNavigationBarTitle({ title: '详情' })\n\t\tuni.setNavigationBarColor({ frontColor: '#000000', backgroundColor: '#fff1a8' })\n\t} catch (e) {}\n})\n\n// 注释掉数据接收，使用默认标题\n// try {\n// \tconst ec = getCurrentPages().pop()?.getOpenerEventChannel?.()\n// \tec && ec.on('science', (data: Partial<Article>) => {\n// \t\tObject.assign(article, data)\n// \t})\n// } catch (e) {}\n</script>\n\n<style scoped>\n.page { \n\tpadding: 24rpx 60rpx; \n\t/* 动态计算顶部间距，避免真机调试时env不生效 */\n\tmin-height: 100vh; \n\tbackground: linear-gradient(180deg, #fff1a8 0%, #fff3c9 32%, #fff7e3 68%, #fffaf1 100%); \n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tbox-sizing: border-box;\n}\n\n/* 标题区域 */\n.title-section {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-bottom: 24rpx;\n}\n\n.title-tag {\n\tbackground: #2c2c2c;\n\tborder-radius: 999rpx;\n\tpadding: 12rpx 24rpx;\n}\n\n.title-text {\n\tcolor: #fff;\n\tfont-size: 32rpx;\n\tfont-weight: 700;\n}\n\n.read-count {\n\tcolor: #999;\n\tfont-size: 24rpx;\n}\n\n/* 内容卡片 */\n.content-card {\n\tfont-size: 28rpx;\n\tbackground: #fff;\n\tborder: 4rpx solid #2c2c2c;\n\tborder-radius: 24rpx;\n\tpadding: 24rpx;\n\tbox-shadow: 0 8rpx 0 #2c2c2c;\n\tmargin-bottom: 24rpx;\n\twidth: 100%;\n\tmax-width: 704rpx;\n}\n\n/* 富文本内容 */\n.rich-content {\n\tline-height: 1.8;\n}\n\n/* 图片网格 */\n.image-grid {\n\tdisplay: grid;\n\tgrid-template-columns: repeat(3, 1fr);\n\tgap: 16rpx;\n\tmargin-top: 24rpx;\n}\n\n.content-image {\n\twidth: 100%;\n\theight: 200rpx;\n\tborder-radius: 12rpx;\n\tbackground: #f0f0f0;\n}\n</style>\n","import MiniProgramPage from 'E:/Uni-App-file/pet-house/pages/scienceDetail/scienceDetail.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onMounted","uni","reactive","onLoad"],"mappings":";;;;;AAmCM,UAAA,oBAAoBA,kBAAI,EAAE;AAChCC,kBAAAA,UAAU,MAAM;AACX,UAAA;AACG,cAAA,OAAOC,oBAAI;AACX,cAAA,YAAY,KAAK,mBAAmB;AACpC,cAAA,UAAU,KAAK,eAAe;AACpC,cAAM,UAAU,CAAC,QAAS,MAAM,UAAW;AAC3C,cAAM,QAAQ;AACI,0BAAA,QAAQ,eAAe,KAAK;AAAA,eACtC,GAAG;AACX,0BAAkB,QAAQ;AAAA,MAC3B;AAAA,IAAA,CACA;AAgBD,UAAM,UAAUC,cAAAA,SAAkB;AAAA,MACjC,IAAI;AAAA,MACJ,OAAO;AAAA,MACP,OAAO;AAAA,MACP,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAoBT,QAAQ;AAAA,QACP;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACD;AAAA,MACA,QAAQ;AAAA,QACP,MAAM;AAAA,QACN,QAAQ;AAAA,MACT;AAAA,MACA,WAAW;AAAA,MACX,WAAW;AAAA,IAAA,CACX;AAGQ,aAAA,aAAa,SAAiB,MAAgB;AACtDD,oBAAAA,MAAI,aAAa;AAAA,QAChB;AAAA,QACA;AAAA,MAAA,CACA;AAAA,IACF;AAGAE,kBAAAA,OAAO,MAAM;AACR,UAAA;AACHF,sBAAAA,MAAI,sBAAsB,EAAE,OAAO,KAAM,CAAA;AACzCA,sBAAA,MAAI,sBAAsB,EAAE,YAAY,WAAW,iBAAiB,WAAW;AAAA,eACvE,GAAG;AAAA,MAAC;AAAA,IAAA,CACb;;;;;;;;;;;;;;;;;;;;;;ACpHD,GAAG,WAAW,eAAe;"}