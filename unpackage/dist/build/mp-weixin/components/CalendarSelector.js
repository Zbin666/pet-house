"use strict";const e=require("../common/vendor.js"),t=require("../common/assets.js"),a={__name:"CalendarSelector",props:{modelValue:{type:Array,default:()=>[]},start:{type:String,default:"2020-01-01"},end:{type:String,default:"2035-12-31"},multiple:{type:Boolean,default:!0}},emits:["update:modelValue","save"],setup(a,{emit:n}){const u=a,l=n,o=new Date,r=e.ref(new Date(o.getFullYear(),o.getMonth(),1)),d=e.computed((()=>r.value.getFullYear())),s=e.computed((()=>r.value.getMonth())),c=e.ref(["一","二","三","四","五","六","日"]),i=e.ref(new Set(u.modelValue));e.watch((()=>u.modelValue),(e=>{i.value=new Set(e||[])}));const m=e.computed((()=>{const e=d.value,t=s.value,a=(new Date(e,t,1).getDay()+6)%7,n=new Date(e,t+1,0).getDate(),u=new Date(e,t,0).getDate(),l=[];for(let r=0;r<42;r++){let d,s;r<a?(d=u-a+r+1,s=!1):r<a+n?(d=r-a+1,s=!0):(d=r-a-n+1,s=!1);const c=s&&d===o.getDate()&&t===o.getMonth()&&e===o.getFullYear();l.push({y:e,m:t,day:d,inMonth:s,isToday:c})}return l}));function f(e){return String(e).padStart(2,"0")}function v(e){return`${e.y}-${f(e.m+1)}-${f(e.day)}`}function p(e){return e.inMonth&&i.value.has(v(e))}function g(e){const t=r.value.getFullYear(),a=r.value.getMonth()+e;r.value=new Date(t,a,1)}return(a,n)=>({a:e.o((e=>g(-1))),b:e.t(d.value),c:e.t(s.value+1),d:e.o((e=>g(1))),e:e.f(c.value,((t,a,n)=>({a:e.t(t),b:t}))),f:e.f(m.value,((a,n,o)=>e.e({a:e.t(a.day),b:p(a)},p(a)?{c:t._imports_0$5}:{},{d:n,e:e.n(a.inMonth?"in":"out"),f:e.n(a.isToday?"today":""),g:e.n(p(a)?"selected":""),h:e.o((e=>function(e){if(!e.inMonth)return;const t=v(e);u.multiple?i.value.has(t)?i.value.delete(t):i.value.add(t):i.value=new Set([t]),l("update:modelValue",Array.from(i.value))}(a)),n)})))})}},n=e._export_sfc(a,[["__scopeId","data-v-9f014381"]]);wx.createComponent(n);
