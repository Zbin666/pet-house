"use strict";const e=require("../common/vendor.js"),t=t=>new Promise(((d,o)=>{const s=e.index.getStorageSync("token"),r={"Content-Type":"application/json"};s&&(r.Authorization=`Bearer ${s}`),e.index.request({url:"http://pet-api.zbinli.cn/api"+t.url,method:t.method||"GET",data:t.data||{},header:r,success:e=>{e.statusCode>=200&&e.statusCode<300?d(e.data):o(e.data)},fail:e=>{o(e)}})})),d={login:e=>t({url:"/auth/login",method:"POST",data:e}),getProfile:()=>t({url:"/auth/profile",method:"GET"}),updateProfile:e=>t({url:"/users/profile",method:"PUT",data:e}),getSettings:()=>t({url:"/users/settings",method:"GET"}),updateSettings:e=>t({url:"/users/settings",method:"PUT",data:e}),uploadAvatar:e=>t({url:"/users/avatar",method:"POST",data:e}),getUserStats:()=>t({url:"/users/stats",method:"GET"}),getPets:()=>t({url:"/pets",method:"GET"}),getPet:e=>t({url:`/pets/${e}`,method:"GET"}),createPet:e=>t({url:"/pets",method:"POST",data:e}),updatePet:(e,d)=>t({url:`/pets/${e}`,method:"PUT",data:d}),deletePet:e=>t({url:`/pets/${e}`,method:"DELETE"}),getRecords:e=>t({url:"/records",method:"GET",data:e}),getCalendar:e=>t({url:"/records/calendar",method:"GET",data:e}),getStats:e=>t({url:"/records/stats",method:"GET",data:e}),createRecord:e=>t({url:"/records",method:"POST",data:e}),updateRecord:(e,d)=>t({url:`/records/${e}`,method:"PUT",data:d}),deleteRecord:e=>t({url:`/records/${e}`,method:"DELETE"}),getSubscriptions:e=>t({url:"/subscriptions",method:"GET",data:e}),createSubscription:e=>t({url:"/subscriptions",method:"POST",data:e}),deleteSubscription:e=>t({url:`/subscriptions/${e}`,method:"DELETE"}),getUploadPolicy:e=>t({url:"/media/policy",method:"POST",data:e}),completeUpload:e=>t({url:"/media/complete",method:"POST",data:e}),getFeeds:e=>t({url:"/feeds",method:"GET",data:e}),getFeed:e=>t({url:`/feeds/${e}`,method:"GET"}),createFeed:e=>t({url:"/feeds",method:"POST",data:e}),likeFeed:e=>t({url:`/feeds/${e}/like`,method:"POST"}),deleteFeed:e=>t({url:`/feeds/${e}`,method:"DELETE"}),getComments:e=>t({url:`/feeds/${e}/comments`,method:"GET"}),createComment:(e,d)=>t({url:`/feeds/${e}/comments`,method:"POST",data:d}),deleteComment:e=>t({url:`/feeds/comments/${e}`,method:"DELETE"}),createCommentReply:(e,d)=>t({url:`/feeds/comments/${e}/replies`,method:"POST",data:d}),likeCommentReply:e=>t({url:`/feeds/comment-replies/${e}/like`,method:"POST"}),deleteCommentReply:e=>t({url:`/feeds/comment-replies/${e}`,method:"DELETE"}),getQuestions:e=>t({url:"/questions",method:"GET",data:e}),getQuestion:e=>t({url:`/questions/${e}`,method:"GET"}),createQuestion:e=>t({url:"/questions",method:"POST",data:e}),deleteQuestion:e=>t({url:`/questions/${e}`,method:"DELETE"}),createAnswer:(e,d)=>t({url:`/questions/${e}/answers`,method:"POST",data:d}),likeAnswer:e=>t({url:`/questions/answers/${e}/like`,method:"POST"}),deleteAnswer:e=>t({url:`/questions/answers/${e}`,method:"DELETE"}),getArticles:e=>t({url:"/articles",method:"GET",data:e}),getArticle:e=>t({url:`/articles/${e}`,method:"GET"}),incrementArticleReads:e=>(console.log("ðŸŒ è°ƒç”¨APIå¢žåŠ é˜…è¯»æ•°ï¼Œæ–‡ç« ID:",e),t({url:`/articles/${e}/read`,method:"POST"})),getUploadPolicy:e=>t({url:"/media/policy",method:"POST",data:{type:e}}),completeUpload:e=>t({url:"/media/complete",method:"POST",data:e}),createMedia:e=>t({url:"/media",method:"POST",data:e}),getMedia:e=>t({url:"/media",method:"GET",data:e}),deleteMedia:e=>t({url:`/media/${e}`,method:"DELETE"}),likeComment:e=>t({url:`/feeds/comments/${e}/like`,method:"POST"}),followQuestion:e=>t({url:`/questions/${e}/follow`,method:"POST"}),getAnswerComments:e=>t({url:`/questions/answers/${e}/comments`,method:"GET"}),createAnswerComment:(e,d)=>t({url:`/questions/answers/${e}/comments`,method:"POST",data:d}),likeAnswerComment:e=>t({url:`/questions/comments/${e}/like`,method:"POST"}),deleteAnswerComment:e=>t({url:`/questions/comments/${e}`,method:"DELETE"})};exports.api=d;
