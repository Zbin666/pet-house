"use strict";const e=require("../common/vendor.js"),n=require("./auth.js"),o={userInfo:null,isLoggedIn:!1,token:null};exports.checkAuth=()=>{const{isLoggedIn:o}=n.checkLogin();return!!o||(e.index.showModal({title:"提示",content:"请先登录",showCancel:!1,success:()=>{e.index.reLaunch({url:"/pages/login/login"})}}),!1)},exports.handleLogout=()=>{o.userInfo=null,o.isLoggedIn=!1,o.token=null,n.logout()},exports.initState=()=>{const{isLoggedIn:e,token:s,userInfo:t}=n.checkLogin();return o.isLoggedIn=e,o.token=s,o.userInfo=t,{...o}};
